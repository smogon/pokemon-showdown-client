{"version":3,"file":"battle-animations.js","names":["BattleScene","battle","$frame","$logFrame","animating","acceleration","gen","mod","activeCount","numericId","$battle","$options","log","$terrain","$climateWeather","$irritantWeather","$energyWeather","$clearingWeather","$bgEffect","$bg","$sprite","$sprites","$spritesFront","$stat","$fx","$leftbar","$rightbar","$turn","$messagebar","$delay","$hiddenMessage","$tooltips","tooltips","sideConditions","preloadDone","preloadNeeded","bgm","backdropImage","bgmNum","preloadCache","messagebarOpen","customControls","interruptionCount","curClimateWeather","curIrritantWeather","curEnergyWeather","curClearingWeather","curTerrain","timeOffset","pokemonTimeOffset","minDelay","activeAnimations","$","addClass","BattleLog","battleParser","pokemonName","pokemonId","ignoreNicks","ignoreOpponent","pokemon","getPokemon","speciesForme","startsWith","charAt","slice","trim","id","parseInt","lastIndexOf","includes","Math","floor","random","BattleTooltips","listen","preloadEffects","_proto","prototype","reset","updateGen","elem","prepend","empty","append","Dex","resourcePrefix","perspective","mySide","sideid","resetSides","animationOff","find","remove","stopAnimation","css","opacity","height","finish","animationOn","fx","off","updateSidebars","_i2","_this$battle$sides2","sides","length","side","_i4","_side$pokemon2","sprite","updateWeather","resetTurn","resetSideConditions","pause","_this","updateBgm","started","click","setMute","play","resume","muted","BattleSound","wait","time","addSprite","$el","isFrontSprite","showEffect","effect","start","end","transition","after","BattleEffects","scale","xscale","yscale","Object","assign","startpos","pos","endpos","posT","$effect","url","children","last","delay","animate","endendpos","waitFor","backgroundEffect","bg","duration","arguments","undefined","background","display","loc","obj","x","y","z","left","top","width","w","h","hoffset","oldLoc","oldPos","transitionMap","add","startAnimations","finishAnimations","max","promise","preemptCatchup","message","_this2","addSpacer","messageFadeTime","hardcoreMode","$message","html","appendTo","maybeCloseMessagebar","args","kwArgs","sectionBreak","closeMessagebar","messageShownTime","runMoveAnim","moveid","participants","animEntry","BattleMoveAnims","targetsSelf","isSpecial","dex","moves","get","category","BattleOtherAnims","anim","map","p","runOtherAnim","runStatusAnim","BattleStatusAnims","runResidualAnim","residualAnim","runPrepareAnim","attacker","defender","moveAnim","prepareAnim","_this$battle$nearSide","prefs","nearSide","active","isSPL","rated","setBgm","BattleBackdropsThree","BattleBackdropsFour","BattleBackdropsFive","BattleBackdrops","getDetailsText","_pokemon$side","name","isFar","fainted","statustext","hp","maxhp","getHPText","status","escapeHTML","getSidebarHTML","posStr","noShow","speciesOverage","speciesClause","Infinity","totalPokemon","sidebarIcons","speciesTable","zoroarkRevealed","hasIllusion","i","species","getBaseSpecies","baseSpecies","_i6","sidebarIcon","push","pokemonhtml","_sidebarIcons$_i","iconType","pokeIndex","poke","tooltipCode","n","getPokemonIcon","ident","teamPreviewCount","details","ratinghtml","rating","faded","resolveAvatar","avatar","updateSidebar","gameType","updateLeftSidebar","updateRightSidebar","ally","side2","farSide","updateStatbars","_i10","_this$battle$sides4","_i12","_side$active2","updateStatbar","skipEmpty","_i14","_this$$sprites2","$spritesContainer","_i16","_this$battle$sides6","_side$missedPokemon","missedPokemon","destroy","PokemonSprite","leftof","isMissedPokemon","rebuildTooltips","tooltipBuf","p2b","tooltip","p2a","p1a","p1b","p2c","p1c","layout","teamPreview","newBGNum","siden","spriteIndex","viewpointSwitched","textBuf","buf","buf2","ludicoloCount","lombreCount","spriteData","getSpriteData","noScale","gender","fxPrefix","toLowerCase","level","item","addDiv","showJoinButtons","joinButtons","ended","p1","p2","hideJoinButtons","pseudoWeatherLeft","pWeather","sideConditionLeft","cond","isFoe","all","climateWeatherLeft","weatherhtml","climateWeather","weatherNameTable","sunnyday","desolateland","raindance","primordialsea","hail","snow","bloodmoon","foghorn","deltastream","climateWeatherMinTimeLeft","climateWeatherTimeLeft","nullifyWeather","abilityActive","irritantWeatherLeft","irritantWeather","sandstorm","duststorm","pollinate","swarmsignal","smogspread","sprinkle","irritantWeatherMinTimeLeft","irritantWeatherTimeLeft","energyWeatherLeft","energyWeather","auraprojection","haunt","cosmicrays","dragonforce","supercell","magnetize","energyWeatherMinTimeLeft","energyWeatherTimeLeft","clearingWeatherLeft","clearingWeather","strongwinds","clearingWeatherMinTimeLeft","clearingWeatherTimeLeft","_i18","_this$battle$pseudoWe2","pseudoWeather","sideConditionsLeft","upkeepClimateWeather","isIntense","upkeepIrritantWeather","upkeepEnergyWeather","upkeepClearingWeather","instant","_this3","terrain","_i20","_this$battle$pseudoWe4","pseudoWeatherData","toID","climateWeatherhtml","irritantWeatherhtml","energyWeatherhtml","clearingWeatherhtml","_i22","_this$battle$sides8","attr","turn","incrementTurn","$prevTurn","$newTurn","updateAcceleration","turnsSinceMoved","min","addPokemonSprite","addSideCondition","auroraveil","Sprite","behind","reflect","safeguard","lightscreen","mist","rock1","rock2","rock3","rock4","surge1","greenmetal1","surge2","greenmetal2","surge3","spikeArray","levels","spike1","caltrop","spike2","spike3","tspikeArray","tspikeLevels","tspike1","poisoncaltrop","tspike2","web","removeSideCondition","_i24","_this$sideConditions$2","typeAnim","types","result","split","type","join","resultAnim","abilityActivateAnim","damageAnim","damage","$statbar","updateHPText","$hp","hpWidth","hpcolor","getHPColor","callback","healAnim","removeClass","removeEffect","addEffect","animSummon","slot","animUnsummon","animDragIn","animDragOut","resetStatbar","startHidden","updatePrevhp","updateHp","updateStatbarIfExists","animTransform","isCustomAnim","isPermanent","clearEffects","removeTransform","animFaint","animReset","beforeMove","afterMove","setFrameHTML","setControlsHTML","$controls","parent","preloadImage","_this4","token","replace","Image","onload","src","rollBgm","loadBgm","nowPlaying","paused","resetBgm","stop","ratio","scene","sp","rawHTML","pixelated","_proto2","_Sprite","_inheritsLoose","_this5","call","forme","cryurl","subsp","$sub","isSubActive","oldsp","statbarLeft","statbarTop","effects","_proto3","_ref","behindx","offset","behindy","animSub","noAnim","animSubFade","_i26","_this$scene$battle$si2","_i28","_side$active4","_this6","done","removeSub","volatiles","formechange","dynamax","terastallize","$newEl","isActive","recalculatePos","turnstatuses","movestatuses","moreActive","statbarOffset","isFFA","prependTo","hasVolatile","playEffect","shiny","dogarsCheck","hide","_this7","_this8","speciesid","getSpeciesForme","doCry","primalalpha","primalomega","ultraburst","powerconstruct","schoolingin","schoolingout","megaevo","replaceWith","pokeEffect","spriten","pos1","pos2","pos3","leechseed1","energyball","leechseed2","leechseed3","protect","_i30","_this$effects$id2","match","getClassForPosition","position","getStatbarHTML","ignoreNick","symbol","indexOf","terastallized","$prevhp","encodeURIComponent","typechange","_i32","typeadd","stat","boosts","getBoostType","getBoost","getEffectTag","getTypeList","statusbar","statusTable","label","exists","items","abilities","$hptext","$hptextborder","show","trapped","throatchop","confusion","healblock","yawn","flashfire","imprison","autotomize","miracleeye","foresight","telekinesis","transform","powertrick","curse","nightmare","attract","torment","taunt","disable","embargo","ingrain","aquaring","stockpile1","stockpile2","stockpile3","perish0","perish1","perish2","perish3","airballoon","leechseed","encore","mustrecharge","bide","magnetrise","smackdown","focusenergy","slowstart","protosynthesisatk","protosynthesisdef","protosynthesisspa","protosynthesisspd","protosynthesisspe","quarkdriveatk","quarkdrivedef","quarkdrivespa","quarkdrivespd","quarkdrivespe","fallen1","fallen2","fallen3","fallen4","fallen5","noretreat","octolock","tarshot","saltcure","syrupbomb","doomdesire","futuresight","mimic","watersport","mudsport","substitute","uproar","rage","roost","quickguard","wideguard","craftyshield","matblock","maxguard","helpinghand","magiccoat","destinybond","snatch","grudge","charge","endure","focuspunch","shelltrap","powder","electrify","glaiverush","ragepowder","followme","instruct","beakblast","laserfocus","spotlight","itemremoved","bind","clamp","firespin","infestation","magmastorm","sandtomb","snaptrap","thundercage","whirlpool","wrap","caffeinecrash","easing","ballisticUp","t","b","c","d","ballisticDown","quadUp","quadDown","wisp","poisonwisp","waterwisp","mudwisp","blackwisp","fireball","bluefireball","icicle","pinkicicle","lightning","rocks","leaf1","leaf2","bone","shadowball","electroball","mistball","iceball","flareball","pokeball","fist","fist1","foot","topbite","bottombite","leftclaw","rightclaw","leftslash","rightslash","leftchop","rightchop","angry","heart","pointer","sword","impact","stare","shine","feather","shell","petal","gear","alpha","omega","rainbow","zsymbol","ultra","hitmark","greenwisp","window","_ref2","attack","_ref3","contactattack","_ref4","xattack","_ref5","slashattack","_ref6","clawattack","_ref7","punchattack","_ref8","bite","_ref9","kick","_ref10","fastattack","_ref11","fastanimattack","_ref12","fastanimspecial","_ref13","fastanimself","_ref14","sneakattack","_ref15","spinattack","_ref16","bound","_ref17","selfstatus","_ref18","lightstatus","_ref19","chargestatus","_ref20","heal","_ref21","_ref22","flight","_ref23","shake","_ref24","dance","_ref25","consume","_ref26","leech","_ref27","drain","_ref28","hydroshot","_ref29","sound","_ref30","gravity","_ref31","futuresighthit","_ref32","doomdesirehit","_ref33","itemoff","_ref34","anger","_ref35","bidecharge","_ref36","bideunleash","_ref37","spectralthiefboost","_ref38","_ref39","_ref40","_ref41","_ref42","_ref43","zpower","_ref44","_ref45","xf","yf","xf2","yf2","_ref46","swarmingin","_ref47","swarmingout","_ref48","brn","_ref49","psn","_ref50","slp","_ref51","par","_ref52","frz","_ref53","frb","_ref54","flinch","_ref55","attracted","_ref56","cursed","_ref57","confused","_ref58","confusedselfhit","_ref59"],"sources":["../src/battle-animations.ts"],"sourcesContent":["/**\r\n * Pokemon Showdown Battle Animations\r\n *\r\n * There are the specific resource files and scripts for misc animations\r\n *\r\n * Licensing note: PS's client has complicated licensing:\r\n * - The client as a whole is AGPLv3\r\n * - The battle replay/animation engine (battle-*.ts) by itself is MIT\r\n *\r\n * @author Guangcong Luo <guangcongluo@gmail.com>\r\n * @license MIT\r\n */\r\n\r\nimport type {Battle, Pokemon, Side, WeatherState} from './battle';\r\nimport type {BattleSceneStub} from './battle-scene-stub';\r\nimport {BattleMoveAnims} from './battle-animations-moves';\r\nimport {BattleLog} from './battle-log';\r\nimport {BattleBGM, BattleSound} from './battle-sound';\r\n\r\n/*\r\n\r\nMost of this file is: CC0 (public domain)\r\n  <http://creativecommons.org/publicdomain/zero/1.0/>\r\n\r\nThis license DOES extend to all images in the fx/ folder, with the exception of icicle.png, lightning.png, and bone.png.\r\n\r\nicicle.png and lightning.png by Clint Bellanger are triple-licensed GPLv2/GPLv3/CC-BY-SA-3.0.\r\n  <http://opengameart.org/content/icicle-spell>\r\n  <http://opengameart.org/content/lightning-shock-spell>\r\n\r\nrocks.png, rock1.png, rock2.png by PO user \"Gilad\" is licensed GPLv3.\r\n\r\nThis license DOES NOT extend to any images in the sprites/ folder.\r\n\r\nThis license DOES NOT extend to any other files in this repository.\r\n\r\n*/\r\n\r\nexport class BattleScene implements BattleSceneStub {\r\n\tbattle: Battle;\r\n\tanimating = true;\r\n\tacceleration = 1;\r\n\r\n\t/** Note: Not the actual generation of the battle, but the gen of the sprites/background */\r\n\tgen = 7;\r\n\tmod = '';\r\n\t/** 1 = singles, 2 = doubles, 3 = triples */\r\n\tactiveCount = 1;\r\n\r\n\tnumericId = 0;\r\n\t$frame: JQuery;\r\n\t$battle: JQuery = null!;\r\n\t$options: JQuery = null!;\r\n\tlog: BattleLog;\r\n\t$terrain: JQuery = null!;\r\n\t$climateWeather: JQuery = null!;\r\n\t$irritantWeather: JQuery = null!;\r\n\t$energyWeather: JQuery = null!;\r\n\t$clearingWeather: JQuery = null!;\r\n\t$bgEffect: JQuery = null!;\r\n\t$bg: JQuery = null!;\r\n\t$sprite: JQuery = null!;\r\n\t$sprites: [JQuery, JQuery] = [null!, null!];\r\n\t$spritesFront: [JQuery, JQuery] = [null!, null!];\r\n\t$stat: JQuery = null!;\r\n\t$fx: JQuery = null!;\r\n\t$leftbar: JQuery = null!;\r\n\t$rightbar: JQuery = null!;\r\n\t$turn: JQuery = null!;\r\n\t$messagebar: JQuery = null!;\r\n\t$delay: JQuery = null!;\r\n\t$hiddenMessage: JQuery = null!;\r\n\t$tooltips: JQuery = null!;\r\n\ttooltips: BattleTooltips;\r\n\r\n\tsideConditions: [{[id: string]: Sprite[]}, {[id: string]: Sprite[]}] = [{}, {}];\r\n\r\n\tpreloadDone = 0;\r\n\tpreloadNeeded = 0;\r\n\tbgm: BattleBGM | null = null;\r\n\tbackdropImage: string = '';\r\n\tbgmNum = 0;\r\n\tpreloadCache: {[url: string]: HTMLImageElement} = {};\r\n\r\n\tmessagebarOpen = false;\r\n\tcustomControls = false;\r\n\tinterruptionCount = 1;\r\n\tcurClimateWeather = '';\r\n\tcurIrritantWeather = '';\r\n\tcurEnergyWeather = '';\r\n\tcurClearingWeather = '';\r\n\tcurTerrain = '';\r\n\r\n\t// Animation state\r\n\t////////////////////////////////////\r\n\r\n\ttimeOffset = 0;\r\n\tpokemonTimeOffset = 0;\r\n\tminDelay = 0;\r\n\t/** jQuery objects that need to finish animating */\r\n\tactiveAnimations = $();\r\n\r\n\tconstructor(battle: Battle, $frame: JQuery, $logFrame: JQuery) {\r\n\t\tthis.battle = battle;\r\n\r\n\t\t$frame.addClass('battle');\r\n\t\tthis.$frame = $frame;\r\n\t\tthis.log = new BattleLog($logFrame[0] as HTMLDivElement, this);\r\n\t\tthis.log.battleParser!.pokemonName = (pokemonId: string) => {\r\n\t\t\tif (!pokemonId) return '';\r\n\t\t\tif (battle.ignoreNicks || battle.ignoreOpponent) {\r\n\t\t\t\tconst pokemon = battle.getPokemon(pokemonId);\r\n\t\t\t\tif (pokemon) return pokemon.speciesForme;\r\n\t\t\t}\r\n\t\t\tif (!pokemonId.startsWith('p')) return '???pokemon:' + pokemonId + '???';\r\n\t\t\tif (pokemonId.charAt(3) === ':') return pokemonId.slice(4).trim();\r\n\t\t\telse if (pokemonId.charAt(2) === ':') return pokemonId.slice(3).trim();\r\n\t\t\treturn '???pokemon:' + pokemonId + '???';\r\n\t\t};\r\n\r\n\t\tlet numericId = 0;\r\n\t\tif (battle.id) {\r\n\t\t\tnumericId = parseInt(battle.id.slice(battle.id.lastIndexOf('-') + 1), 10);\r\n\t\t\tif (this.battle.id.includes('digimon')) this.mod = 'digimon';\r\n\t\t}\r\n\t\tif (!numericId) {\r\n\t\t\tnumericId = Math.floor(Math.random() * 1000000);\r\n\t\t}\r\n\t\tthis.numericId = numericId;\r\n\t\tthis.tooltips = new BattleTooltips(battle);\r\n\t\tthis.tooltips.listen($frame[0]);\r\n\r\n\t\tthis.preloadEffects();\r\n\t\t// reset() is called during battle initialization, so it doesn't need to be called here\r\n\t}\r\n\r\n\treset() {\r\n\t\tthis.updateGen();\r\n\r\n\t\t// Log frame\r\n\t\t/////////////\r\n\r\n\t\tif (this.$options) {\r\n\t\t\tthis.log.reset();\r\n\t\t} else {\r\n\t\t\tthis.$options = $('<div class=\"battle-options\"></div>');\r\n\t\t\t$(this.log.elem).prepend(this.$options);\r\n\t\t}\r\n\r\n\t\t// Battle frame\r\n\t\t///////////////\r\n\r\n\t\tthis.$frame.empty();\r\n\t\tthis.$battle = $('<div class=\"innerbattle\"></div>');\r\n\t\tthis.$frame.append(this.$battle);\r\n\r\n\t\tthis.$bg = $('<div class=\"backdrop\" style=\"background-image:url(' + Dex.resourcePrefix + this.backdropImage + ');display:block;opacity:0.8\"></div>');\r\n\t\tthis.$terrain = $('<div class=\"weather\"></div>');\r\n\t\tthis.$climateWeather = $('<div class=\"weather\"></div>');\r\n\t\tthis.$irritantWeather = $('<div class=\"weather\"></div>');\r\n\t\tthis.$energyWeather = $('<div class=\"weather\"></div>');\r\n\t\tthis.$clearingWeather = $('<div class=\"weather\"></div>');\r\n\t\tthis.$bgEffect = $('<div></div>');\r\n\t\tthis.$sprite = $('<div></div>');\r\n\r\n\t\tthis.$sprites = [$('<div></div>'), $('<div></div>')];\r\n\t\tthis.$spritesFront = [$('<div></div>'), $('<div></div>')];\r\n\r\n\t\tthis.$sprite.append(this.$sprites[1]);\r\n\t\tthis.$sprite.append(this.$spritesFront[1]);\r\n\t\tthis.$sprite.append(this.$spritesFront[0]);\r\n\t\tthis.$sprite.append(this.$sprites[0]);\r\n\r\n\t\tthis.$stat = $('<div role=\"complementary\" aria-label=\"Active Pokemon\"></div>');\r\n\t\tthis.$fx = $('<div></div>');\r\n\t\tthis.$leftbar = $('<div class=\"leftbar\" role=\"complementary\" aria-label=\"Your Team\"></div>');\r\n\t\tthis.$rightbar = $('<div class=\"rightbar\" role=\"complementary\" aria-label=\"Opponent\\'s Team\"></div>');\r\n\t\tthis.$turn = $('<div></div>');\r\n\t\tthis.$messagebar = $('<div class=\"messagebar message\"></div>');\r\n\t\tthis.$delay = $('<div></div>');\r\n\t\tthis.$hiddenMessage = $('<div class=\"message\" style=\"position:absolute;display:block;visibility:hidden\"></div>');\r\n\t\tthis.$tooltips = $('<div class=\"tooltips\"></div>');\r\n\r\n\t\tthis.$battle.append(this.$bg);\r\n\t\tthis.$battle.append(this.$terrain);\r\n\t\tthis.$battle.append(this.$climateWeather);\r\n\t\tthis.$battle.append(this.$irritantWeather);\r\n\t\tthis.$battle.append(this.$energyWeather);\r\n\t\tthis.$battle.append(this.$clearingWeather);\r\n\t\tthis.$battle.append(this.$bgEffect);\r\n\t\tthis.$battle.append(this.$sprite);\r\n\t\tthis.$battle.append(this.$stat);\r\n\t\tthis.$battle.append(this.$fx);\r\n\t\tthis.$battle.append(this.$leftbar);\r\n\t\tthis.$battle.append(this.$rightbar);\r\n\t\tthis.$battle.append(this.$turn);\r\n\t\tthis.$battle.append(this.$messagebar);\r\n\t\tthis.$battle.append(this.$delay);\r\n\t\tthis.$battle.append(this.$hiddenMessage);\r\n\t\tthis.$battle.append(this.$tooltips);\r\n\r\n\t\tif (!this.animating) {\r\n\t\t\tthis.$battle.append('<div class=\"seeking\"><strong>seeking...</strong></div>');\r\n\t\t}\r\n\r\n\t\tthis.messagebarOpen = false;\r\n\t\tthis.timeOffset = 0;\r\n\t\tthis.pokemonTimeOffset = 0;\r\n\t\tthis.curTerrain = '';\r\n\t\tthis.curClimateWeather = '';\r\n\t\tthis.curIrritantWeather = '';\r\n\t\tthis.curEnergyWeather = '';\r\n\t\tthis.curClearingWeather = '';\r\n\r\n\t\tthis.log.battleParser!.perspective = this.battle.mySide.sideid;\r\n\r\n\t\tthis.resetSides(true);\r\n\t}\r\n\r\n\tanimationOff() {\r\n\t\tthis.$battle.append('<div class=\"seeking\"><strong>seeking...</strong></div>');\r\n\t\tthis.$frame.find('div.playbutton').remove();\r\n\t\tthis.stopAnimation();\r\n\r\n\t\tthis.animating = false;\r\n\t\tthis.$messagebar.empty().css({\r\n\t\t\topacity: 0,\r\n\t\t\theight: 0,\r\n\t\t});\r\n\t}\r\n\tstopAnimation() {\r\n\t\tthis.interruptionCount++;\r\n\t\tthis.$battle.find(':animated').finish();\r\n\t\tthis.$fx.empty();\r\n\t}\r\n\tanimationOn() {\r\n\t\tif (this.animating) return;\r\n\t\t$.fx.off = false;\r\n\t\tthis.animating = true;\r\n\t\tthis.$battle.find('.seeking').remove();\r\n\t\tthis.updateSidebars();\r\n\t\tfor (const side of this.battle.sides) {\r\n\t\t\tfor (const pokemon of side.pokemon) {\r\n\t\t\t\tpokemon.sprite.reset(pokemon);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.updateWeather(true);\r\n\t\tthis.resetTurn();\r\n\t\tthis.resetSideConditions();\r\n\t}\r\n\tpause() {\r\n\t\tthis.stopAnimation();\r\n\t\tthis.updateBgm();\r\n\t\tif (!this.battle.started) {\r\n\t\t\tthis.$frame.append('<div class=\"playbutton\"><button name=\"play\" class=\"button\"><i class=\"fa fa-play\"></i> Play</button><br /><br /><button name=\"play-muted\" class=\"startsoundchooser button\" style=\"font-size:10pt\">Play (music off)</button></div>');\r\n\t\t\tthis.$frame.find('div.playbutton button[name=play-muted]').click(() => {\r\n\t\t\t\tthis.setMute(true);\r\n\t\t\t\tthis.battle.play();\r\n\t\t\t});\r\n\t\t}\r\n\t\tthis.$frame.find('div.playbutton button[name=play]').click(() => this.battle.play());\r\n\t}\r\n\tresume() {\r\n\t\tthis.$frame.find('div.playbutton').remove();\r\n\t\tthis.updateBgm();\r\n\t}\r\n\tsetMute(muted: boolean) {\r\n\t\tBattleSound.setMute(muted);\r\n\t}\r\n\twait(time: number) {\r\n\t\tif (!this.animating) return;\r\n\t\tthis.timeOffset += time;\r\n\t}\r\n\r\n\t// Sprite handling\r\n\t/////////////////////////////////////////////////////////////////////\r\n\r\n\taddSprite(sprite: PokemonSprite) {\r\n\t\tif (sprite.$el) this.$sprites[+sprite.isFrontSprite].append(sprite.$el);\r\n\t}\r\n\tshowEffect(effect: string | SpriteData, start: ScenePos, end: ScenePos, transition: string, after?: string) {\r\n\t\tif (typeof effect === 'string') effect = BattleEffects[effect] as SpriteData;\r\n\t\tif (!start.time) start.time = 0;\r\n\t\tif (!end.time) end.time = start.time + 500;\r\n\t\tstart.time += this.timeOffset;\r\n\t\tend.time += this.timeOffset;\r\n\t\tif (!end.scale && end.scale !== 0 && start.scale) end.scale = start.scale;\r\n\t\tif (!end.xscale && end.xscale !== 0 && start.xscale) end.xscale = start.xscale;\r\n\t\tif (!end.yscale && end.yscale !== 0 && start.yscale) end.yscale = start.yscale;\r\n\t\tend = {...start, ...end};\r\n\r\n\t\tlet startpos = this.pos(start, effect);\r\n\t\tlet endpos = this.posT(end, effect, transition, start);\r\n\r\n\t\tlet $effect = $('<img src=\"' + effect.url + '\" style=\"display:block;position:absolute\" />');\r\n\t\tthis.$fx.append($effect);\r\n\t\t$effect = this.$fx.children().last();\r\n\r\n\t\tif (start.time) {\r\n\t\t\t$effect.css({...startpos, opacity: 0});\r\n\t\t\t$effect.delay(start.time).animate({\r\n\t\t\t\topacity: startpos.opacity,\r\n\t\t\t}, 1);\r\n\t\t} else {\r\n\t\t\t$effect.css(startpos);\r\n\t\t}\r\n\t\t$effect.animate(endpos, end.time! - start.time);\r\n\t\tif (after === 'fade') {\r\n\t\t\t$effect.animate({\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 100);\r\n\t\t}\r\n\t\tif (after === 'explode') {\r\n\t\t\tif (end.scale) end.scale *= 3;\r\n\t\t\tif (end.xscale) end.xscale *= 3;\r\n\t\t\tif (end.yscale) end.yscale *= 3;\r\n\t\t\tend.opacity = 0;\r\n\t\t\tlet endendpos = this.pos(end, effect);\r\n\t\t\t$effect.animate(endendpos, 200);\r\n\t\t}\r\n\t\tthis.waitFor($effect);\r\n\t}\r\n\tbackgroundEffect(bg: string, duration: number, opacity = 1, delay = 0) {\r\n\t\tlet $effect = $('<div class=\"background\"></div>');\r\n\t\t$effect.css({\r\n\t\t\tbackground: bg,\r\n\t\t\tdisplay: 'block',\r\n\t\t\topacity: 0,\r\n\t\t});\r\n\t\tthis.$bgEffect.append($effect);\r\n\t\t$effect.delay(delay).animate({\r\n\t\t\topacity,\r\n\t\t}, 250).delay(duration - 250);\r\n\t\t$effect.animate({\r\n\t\t\topacity: 0,\r\n\t\t}, 250);\r\n\t}\r\n\r\n\t/**\r\n\t * Converts a PS location (x, y, z, scale, xscale, yscale, opacity)\r\n\t * to a jQuery position (top, left, width, height, opacity) suitable\r\n\t * for passing into `jQuery#css` or `jQuery#animate`.\r\n\t * The display property is passed through if it exists.\r\n\t */\r\n\tpos(loc: ScenePos, obj: SpriteData) {\r\n\t\tloc = {\r\n\t\t\tx: 0,\r\n\t\t\ty: 0,\r\n\t\t\tz: 0,\r\n\t\t\tscale: 1,\r\n\t\t\topacity: 1,\r\n\t\t\t...loc,\r\n\t\t};\r\n\t\tif (!loc.xscale && loc.xscale !== 0) loc.xscale = loc.scale;\r\n\t\tif (!loc.yscale && loc.yscale !== 0) loc.yscale = loc.scale;\r\n\r\n\t\tlet left = 210;\r\n\t\tlet top = 245;\r\n\t\tlet scale = (obj.gen === 5\r\n\t\t\t? 2.0 - ((loc.z!) / 200)\r\n\t\t\t: 1.5 - 0.5 * ((loc.z!) / 200));\r\n\t\tif (scale < .1) scale = .1;\r\n\r\n\t\tleft += (410 - 190) * ((loc.z!) / 200);\r\n\t\ttop += (135 - 245) * ((loc.z!) / 200);\r\n\t\tleft += Math.floor(loc.x! * scale);\r\n\t\ttop -= Math.floor(loc.y! * scale /* - loc.x * scale / 4 */);\r\n\t\tlet width = Math.floor(obj.w * scale * loc.xscale!);\r\n\t\tlet height = Math.floor(obj.h * scale * loc.yscale!);\r\n\t\tlet hoffset = Math.floor((obj.h - (obj.y || 0) * 2) * scale * loc.yscale!);\r\n\t\tleft -= Math.floor(width / 2);\r\n\t\ttop -= Math.floor(hoffset / 2);\r\n\r\n\t\tlet pos: JQuery.PlainObject = {\r\n\t\t\tleft,\r\n\t\t\ttop,\r\n\t\t\twidth,\r\n\t\t\theight,\r\n\t\t\topacity: loc.opacity,\r\n\t\t};\r\n\t\tif (loc.display) pos.display = loc.display;\r\n\t\treturn pos;\r\n\t}\r\n\t/**\r\n\t * Converts a PS location to a jQuery transition map (see `pos`)\r\n\t * suitable for passing into `jQuery#animate`.\r\n\t * oldLoc is required for ballistic (jumping) animations.\r\n\t */\r\n\tposT(loc: ScenePos, obj: SpriteData, transition?: string, oldLoc?: ScenePos): JQuery.PlainObject {\r\n\t\tconst pos = this.pos(loc, obj);\r\n\t\tconst oldPos = (oldLoc ? this.pos(oldLoc, obj) : null);\r\n\t\tlet transitionMap = {\r\n\t\t\tleft: 'linear',\r\n\t\t\ttop: 'linear',\r\n\t\t\twidth: 'linear',\r\n\t\t\theight: 'linear',\r\n\t\t\topacity: 'linear',\r\n\t\t};\r\n\t\tif (transition === 'ballistic') {\r\n\t\t\ttransitionMap.top = (pos.top < oldPos!.top ? 'ballisticUp' : 'ballisticDown');\r\n\t\t}\r\n\t\tif (transition === 'ballisticUnder') {\r\n\t\t\ttransitionMap.top = (pos.top < oldPos!.top ? 'ballisticDown' : 'ballisticUp');\r\n\t\t}\r\n\t\tif (transition === 'ballistic2') {\r\n\t\t\ttransitionMap.top = (pos.top < oldPos!.top ? 'quadUp' : 'quadDown');\r\n\t\t}\r\n\t\tif (transition === 'ballistic2Back') {\r\n\t\t\t// This _should_ be the same as ballistic2.\r\n\t\t\t// Unfortunately, oldLoc is the original loc, rather than the\r\n\t\t\t// previous loc, so when you're \"going back\", loc === oldLoc, and\r\n\t\t\t// the direction has to instead be inferred from the destination.\r\n\t\t\ttransitionMap.top = (loc.z! > 0 ? 'quadUp' : 'quadDown');\r\n\t\t}\r\n\t\tif (transition === 'ballistic2Under') {\r\n\t\t\ttransitionMap.top = (pos.top < oldPos!.top ? 'quadDown' : 'quadUp');\r\n\t\t}\r\n\t\tif (transition === 'swing') {\r\n\t\t\ttransitionMap.left = 'swing';\r\n\t\t\ttransitionMap.top = 'swing';\r\n\t\t\ttransitionMap.width = 'swing';\r\n\t\t\ttransitionMap.height = 'swing';\r\n\t\t}\r\n\t\tif (transition === 'accel') {\r\n\t\t\ttransitionMap.left = 'quadDown';\r\n\t\t\ttransitionMap.top = 'quadDown';\r\n\t\t\ttransitionMap.width = 'quadDown';\r\n\t\t\ttransitionMap.height = 'quadDown';\r\n\t\t}\r\n\t\tif (transition === 'decel') {\r\n\t\t\ttransitionMap.left = 'quadUp';\r\n\t\t\ttransitionMap.top = 'quadUp';\r\n\t\t\ttransitionMap.width = 'quadUp';\r\n\t\t\ttransitionMap.height = 'quadUp';\r\n\t\t}\r\n\t\treturn {\r\n\t\t\tleft: [pos.left, transitionMap.left],\r\n\t\t\ttop: [pos.top, transitionMap.top],\r\n\t\t\twidth: [pos.width, transitionMap.width],\r\n\t\t\theight: [pos.height, transitionMap.height],\r\n\t\t\topacity: [pos.opacity, transitionMap.opacity],\r\n\t\t};\r\n\t}\r\n\r\n\twaitFor(elem: JQuery) {\r\n\t\tthis.activeAnimations = this.activeAnimations.add(elem);\r\n\t}\r\n\r\n\tstartAnimations() {\r\n\t\tthis.$fx.empty();\r\n\t\tthis.activeAnimations = $();\r\n\t\tthis.timeOffset = 0;\r\n\t\tthis.minDelay = 0;\r\n\t}\r\n\r\n\tfinishAnimations() {\r\n\t\tif (this.minDelay || this.timeOffset) {\r\n\t\t\tthis.$delay.delay(Math.max(this.minDelay, this.timeOffset));\r\n\t\t\tthis.activeAnimations = this.activeAnimations.add(this.$delay);\r\n\t\t}\r\n\t\tif (!this.activeAnimations.length) return undefined;\r\n\t\treturn this.activeAnimations.promise();\r\n\t}\r\n\r\n\t// Messagebar and log\r\n\t/////////////////////////////////////////////////////////////////////\r\n\r\n\tpreemptCatchup() {\r\n\t\tthis.log.preemptCatchup();\r\n\t}\r\n\tmessage(message: string) {\r\n\t\tif (!this.messagebarOpen) {\r\n\t\t\tthis.log.addSpacer();\r\n\t\t\tif (this.animating) {\r\n\t\t\t\tthis.$messagebar.empty();\r\n\t\t\t\tthis.$messagebar.css({\r\n\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\topacity: 0,\r\n\t\t\t\t\theight: 'auto',\r\n\t\t\t\t});\r\n\t\t\t\tthis.$messagebar.animate({\r\n\t\t\t\t\topacity: 1,\r\n\t\t\t\t}, this.battle.messageFadeTime / this.acceleration);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this.battle.hardcoreMode && message.slice(0, 8) === '<small>(') {\r\n\t\t\tmessage = '';\r\n\t\t}\r\n\t\tif (message && this.animating) {\r\n\t\t\tthis.$hiddenMessage.append('<p></p>');\r\n\t\t\tlet $message = this.$hiddenMessage.children().last();\r\n\t\t\t$message.html(message);\r\n\t\t\t$message.css({\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\topacity: 0,\r\n\t\t\t});\r\n\t\t\t$message.animate({\r\n\t\t\t\theight: 'hide',\r\n\t\t\t}, 1, () => {\r\n\t\t\t\t$message.appendTo(this.$messagebar);\r\n\t\t\t\t$message.animate({\r\n\t\t\t\t\theight: 'show',\r\n\t\t\t\t\t'padding-bottom': 4,\r\n\t\t\t\t\topacity: 1,\r\n\t\t\t\t}, this.battle.messageFadeTime / this.acceleration);\r\n\t\t\t});\r\n\t\t\tthis.waitFor($message);\r\n\t\t}\r\n\t\tthis.messagebarOpen = true;\r\n\t}\r\n\tmaybeCloseMessagebar(args: Args, kwArgs: KWArgs) {\r\n\t\tif (this.log.battleParser!.sectionBreak(args, kwArgs)) {\r\n\t\t\tif (!this.messagebarOpen) return false;\r\n\t\t\tthis.closeMessagebar();\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\tcloseMessagebar() {\r\n\t\tif (this.messagebarOpen) {\r\n\t\t\tthis.messagebarOpen = false;\r\n\t\t\tif (this.animating) {\r\n\t\t\t\tthis.$messagebar.delay(this.battle.messageShownTime / this.acceleration).animate({\r\n\t\t\t\t\topacity: 0,\r\n\t\t\t\t}, this.battle.messageFadeTime / this.acceleration);\r\n\t\t\t\tthis.waitFor(this.$messagebar);\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// General updating\r\n\t/////////////////////////////////////////////////////////////////////\r\n\r\n\trunMoveAnim(moveid: ID, participants: Pokemon[]) {\r\n\t\tif (!this.animating) return;\r\n\t\tlet animEntry = BattleMoveAnims[moveid];\r\n\t\tif (this.acceleration >= 3) {\r\n\t\t\tconst targetsSelf = !participants[1] || participants[0] === participants[1];\r\n\t\t\tconst isSpecial = !targetsSelf && this.battle.dex.moves.get(moveid).category === 'Special';\r\n\t\t\tanimEntry = BattleOtherAnims[targetsSelf ? 'fastanimself' : isSpecial ? 'fastanimspecial' : 'fastanimattack'];\r\n\t\t} else if (!animEntry) {\r\n\t\t\tanimEntry = BattleMoveAnims['tackle'];\r\n\t\t}\r\n\t\tanimEntry.anim(this, participants.map(p => p.sprite));\r\n\t}\r\n\r\n\trunOtherAnim(moveid: ID, participants: Pokemon[]) {\r\n\t\tif (!this.animating) return;\r\n\t\tBattleOtherAnims[moveid].anim(this, participants.map(p => p.sprite));\r\n\t}\r\n\r\n\trunStatusAnim(moveid: ID, participants: Pokemon[]) {\r\n\t\tif (!this.animating) return;\r\n\t\tBattleStatusAnims[moveid].anim(this, participants.map(p => p.sprite));\r\n\t}\r\n\r\n\trunResidualAnim(moveid: ID, pokemon: Pokemon) {\r\n\t\tif (!this.animating) return;\r\n\t\tBattleMoveAnims[moveid].residualAnim!(this, [pokemon.sprite]);\r\n\t}\r\n\r\n\trunPrepareAnim(moveid: ID, attacker: Pokemon, defender: Pokemon) {\r\n\t\tif (!this.animating || this.acceleration >= 3) return;\r\n\t\tconst moveAnim = BattleMoveAnims[moveid];\r\n\t\tif (!moveAnim.prepareAnim) return;\r\n\t\tmoveAnim.prepareAnim(this, [attacker.sprite, defender.sprite]);\r\n\t}\r\n\r\n\tupdateGen() {\r\n\t\tlet gen = this.battle.gen;\r\n\t\tif (Dex.prefs('nopastgens')) gen = 6;\r\n\t\tif (Dex.prefs('bwgfx') && gen > 5) gen = 5;\r\n\t\tthis.gen = gen;\r\n\t\tthis.activeCount = this.battle.nearSide?.active.length || 1;\r\n\r\n\t\tconst isSPL = (typeof this.battle.rated === 'string' && this.battle.rated.startsWith(\"Smogon Premier League\"));\r\n\t\tlet bg: string;\r\n\t\tif (isSPL) {\r\n\t\t\tif (gen <= 1) bg = 'fx/bg-gen1-spl.png';\r\n\t\t\telse if (gen <= 2) bg = 'fx/bg-gen2-spl.png';\r\n\t\t\telse if (gen <= 3) bg = 'fx/bg-gen3-spl.png';\r\n\t\t\telse if (gen <= 4) bg = 'fx/bg-gen4-spl.png';\r\n\t\t\telse bg = 'fx/bg-spl.png';\r\n\t\t\tthis.setBgm(-101);\r\n\t\t} else {\r\n\t\t\tif (gen <= 1) bg = 'fx/bg-gen1.png?';\r\n\t\t\telse if (gen <= 2) bg = 'fx/bg-gen2.png?';\r\n\t\t\telse if (gen <= 3) bg = 'fx/' + BattleBackdropsThree[this.numericId % BattleBackdropsThree.length] + '?';\r\n\t\t\telse if (gen <= 4) bg = 'fx/' + BattleBackdropsFour[this.numericId % BattleBackdropsFour.length];\r\n\t\t\telse if (gen <= 5) bg = 'fx/' + BattleBackdropsFive[this.numericId % BattleBackdropsFive.length];\r\n\t\t\telse bg = 'sprites/gen6bgs/' + BattleBackdrops[this.numericId % BattleBackdrops.length];\r\n\t\t}\r\n\r\n\t\tthis.backdropImage = bg;\r\n\t\tif (this.$bg) {\r\n\t\t\tthis.$bg.css('background-image', 'url(' + Dex.resourcePrefix + '' + this.backdropImage + ')');\r\n\t\t}\r\n\t}\r\n\r\n\tgetDetailsText(pokemon: Pokemon) {\r\n\t\tlet name = pokemon.side?.isFar &&\r\n\t\t\t(this.battle.ignoreOpponent || this.battle.ignoreNicks) ? pokemon.speciesForme : pokemon.name;\r\n\t\tif (name !== pokemon.speciesForme) {\r\n\t\t\t\tname += ' (' + pokemon.speciesForme + ')';\r\n\t\t}\r\n\t\tif (pokemon === pokemon.side.active[0]) {\r\n\t\t\tname += ' (active)';\r\n\t\t} else if (pokemon.fainted) {\r\n\t\t\tname += ' (fainted)';\r\n\t\t} else {\r\n\t\t\tlet statustext = '';\r\n\t\t\tif (pokemon.hp !== pokemon.maxhp) {\r\n\t\t\t\tstatustext += pokemon.getHPText();\r\n\t\t\t}\r\n\t\t\tif (pokemon.status) {\r\n\t\t\t\tif (statustext) statustext += '|';\r\n\t\t\t\tstatustext += pokemon.status;\r\n\t\t\t}\r\n\t\t\tif (statustext) {\r\n\t\t\t\tname += ' (' + statustext + ')';\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn BattleLog.escapeHTML(name);\r\n\t}\r\n\tgetSidebarHTML(side: Side, posStr: string): string {\r\n\t\tlet noShow = this.battle.hardcoreMode && this.battle.gen < 7;\r\n\r\n\t\tlet speciesOverage = this.battle.speciesClause ? Infinity : Math.max(side.pokemon.length - side.totalPokemon, 0);\r\n\t\tconst sidebarIcons: (\r\n\t\t\t['pokemon' | 'pokemon-illusion', number] | ['unrevealed' | 'empty' | 'pseudo-zoroark', null]\r\n\t\t)[] = [];\r\n\t\tconst speciesTable: string[] = [];\r\n\t\tlet zoroarkRevealed = false;\r\n\t\tlet hasIllusion = false;\r\n\t\tif (speciesOverage) {\r\n\t\t\tfor (let i = 0; i < side.pokemon.length; i++) {\r\n\t\t\t\tconst species = side.pokemon[i].getBaseSpecies().baseSpecies;\r\n\t\t\t\tif (speciesOverage && speciesTable.includes(species)) {\r\n\t\t\t\t\tfor (const sidebarIcon of sidebarIcons) {\r\n\t\t\t\t\t\tif (side.pokemon[sidebarIcon[1]!].getBaseSpecies().baseSpecies === species) {\r\n\t\t\t\t\t\t\tsidebarIcon[0] = 'pokemon-illusion';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\thasIllusion = true;\r\n\t\t\t\t\tspeciesOverage--;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsidebarIcons.push(['pokemon', i]);\r\n\t\t\t\t\tspeciesTable.push(species);\r\n\t\t\t\t\tif (['Zoroark', 'Zorua'].includes(species)) {\r\n\t\t\t\t\t\tzoroarkRevealed = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tfor (let i = 0; i < side.pokemon.length; i++) {\r\n\t\t\t\tsidebarIcons.push(['pokemon', i]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!zoroarkRevealed && hasIllusion && sidebarIcons.length < side.totalPokemon) {\r\n\t\t\tsidebarIcons.push(['pseudo-zoroark', null]);\r\n\t\t}\r\n\t\twhile (sidebarIcons.length < side.totalPokemon) {\r\n\t\t\tsidebarIcons.push(['unrevealed', null]);\r\n\t\t}\r\n\t\twhile (sidebarIcons.length < 6) {\r\n\t\t\tsidebarIcons.push(['empty', null]);\r\n\t\t}\r\n\r\n\t\tlet pokemonhtml = '';\r\n\t\tfor (let i = 0; i < sidebarIcons.length; i++) {\r\n\t\t\tconst [iconType, pokeIndex] = sidebarIcons[i];\r\n\t\t\tconst poke = pokeIndex !== null ? side.pokemon[pokeIndex] : null;\r\n\t\t\tconst tooltipCode = ` class=\"picon has-tooltip\" data-tooltip=\"pokemon|${side.n}|${pokeIndex}${iconType === 'pokemon-illusion' ? '|illusion' : ''}\"`;\r\n\t\t\tif (iconType === 'empty') {\r\n\t\t\t\tpokemonhtml += `<span class=\"picon\" style=\"` + Dex.getPokemonIcon('pokeball-none') + `\"></span>`;\r\n\t\t\t} else if (noShow) {\r\n\t\t\t\tif (poke?.fainted) {\r\n\t\t\t\t\tpokemonhtml += `<span${tooltipCode} style=\"` + Dex.getPokemonIcon('pokeball-fainted') + `\" aria-label=\"Fainted\"></span>`;\r\n\t\t\t\t} else if (poke?.status) {\r\n\t\t\t\t\tpokemonhtml += `<span${tooltipCode} style=\"` + Dex.getPokemonIcon('pokeball-statused') + `\" aria-label=\"Statused\"></span>`;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tpokemonhtml += `<span${tooltipCode} style=\"` + Dex.getPokemonIcon('pokeball') + `\" aria-label=\"Non-statused\"></span>`;\r\n\t\t\t\t}\r\n\t\t\t} else if (iconType === 'pseudo-zoroark') {\r\n\t\t\t\tpokemonhtml += `<span class=\"picon\" style=\"` + Dex.getPokemonIcon('zoroark') + `\" title=\"Unrevealed Illusion user\" aria-label=\"Unrevealed Illusion user\"></span>`;\r\n\t\t\t} else if (!poke) {\r\n\t\t\t\tpokemonhtml += `<span class=\"picon\" style=\"` + Dex.getPokemonIcon('pokeball') + `\" title=\"Not revealed\" aria-label=\"Not revealed\"></span>`;\r\n\t\t\t} else if (!poke.ident && this.battle.teamPreviewCount && this.battle.teamPreviewCount < side.pokemon.length) {\r\n\t\t\t\t// in VGC (bring 6 pick 4) and other pick-less-than-you-bring formats, this is\r\n\t\t\t\t// a pokemon that's been brought but not necessarily picked\r\n\t\t\t\tconst details = this.getDetailsText(poke);\r\n\t\t\t\tpokemonhtml += `<span${tooltipCode} style=\"` + Dex.getPokemonIcon(poke, !side.isFar) + `;opacity:0.6\" aria-label=\"${details}\"></span>`;\r\n\t\t\t} else {\r\n\t\t\t\tconst details = this.getDetailsText(poke);\r\n\t\t\t\tpokemonhtml += `<span${tooltipCode} style=\"` + Dex.getPokemonIcon(poke, !side.isFar) + `\" aria-label=\"${details}\"></span>`;\r\n\t\t\t}\r\n\t\t\tif (i % 3 === 2) pokemonhtml += `</div><div class=\"teamicons\">`;\r\n\t\t}\r\n\t\tpokemonhtml = '<div class=\"teamicons\">' + pokemonhtml + '</div>';\r\n\t\tconst ratinghtml = side.rating ? ` title=\"Rating: ${BattleLog.escapeHTML(side.rating)}\"` : ``;\r\n\t\tconst faded = side.name ? `` : ` style=\"opacity: 0.4\"`;\r\n\t\treturn `<div class=\"trainer trainer-${posStr}\"${faded}><strong>${BattleLog.escapeHTML(side.name)}</strong><div class=\"trainersprite\"${ratinghtml} style=\"background-image:url(${Dex.resolveAvatar(side.avatar)})\"></div>${pokemonhtml}</div>`;\r\n\t}\r\n\tupdateSidebar(side: Side) {\r\n\t\tif (this.battle.gameType === 'freeforall') {\r\n\t\t\tthis.updateLeftSidebar();\r\n\t\t\tthis.updateRightSidebar();\r\n\t\t} else if (side === this.battle.nearSide || side === this.battle.nearSide.ally) {\r\n\t\t\tthis.updateLeftSidebar();\r\n\t\t} else {\r\n\t\t\tthis.updateRightSidebar();\r\n\t\t}\r\n\t}\r\n\tupdateLeftSidebar() {\r\n\t\tconst side = this.battle.nearSide;\r\n\r\n\t\tif (side.ally) {\r\n\t\t\tconst side2 = side.ally!;\r\n\t\t\tthis.$leftbar.html(this.getSidebarHTML(side, 'near2') + this.getSidebarHTML(side2, 'near'));\r\n\t\t} else if (this.battle.sides.length > 2) { // FFA\r\n\t\t\tconst side2 = this.battle.sides[side.n === 0 ? 3 : 2];\r\n\t\t\tthis.$leftbar.html(this.getSidebarHTML(side2, 'near2') + this.getSidebarHTML(side, 'near'));\r\n\t\t} else {\r\n\t\t\tthis.$leftbar.html(this.getSidebarHTML(side, 'near'));\r\n\t\t}\r\n\t}\r\n\tupdateRightSidebar() {\r\n\t\tconst side = this.battle.farSide;\r\n\r\n\t\tif (side.ally) {\r\n\t\t\tconst side2 = side.ally!;\r\n\t\t\tthis.$rightbar.html(this.getSidebarHTML(side, 'far2') + this.getSidebarHTML(side2, 'far'));\r\n\t\t} else if (this.battle.sides.length > 2) { // FFA\r\n\t\t\tconst side2 = this.battle.sides[side.n === 0 ? 3 : 2];\r\n\t\t\tthis.$rightbar.html(this.getSidebarHTML(side2, 'far2') + this.getSidebarHTML(side, 'far'));\r\n\t\t} else {\r\n\t\t\tthis.$rightbar.html(this.getSidebarHTML(side, 'far'));\r\n\t\t}\r\n\t}\r\n\tupdateSidebars() {\r\n\t\tthis.updateLeftSidebar();\r\n\t\tthis.updateRightSidebar();\r\n\t}\r\n\tupdateStatbars() {\r\n\t\tfor (const side of this.battle.sides) {\r\n\t\t\tfor (const active of side.active) {\r\n\t\t\t\tif (active) active.sprite.updateStatbar(active);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tresetSides(skipEmpty?: boolean) {\r\n\t\tif (!skipEmpty) {\r\n\t\t\tfor (const $spritesContainer of this.$sprites) {\r\n\t\t\t\t$spritesContainer.empty();\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (const side of this.battle.sides) {\r\n\t\t\tside.z = (side.isFar ? 200 : 0);\r\n\t\t\tside.missedPokemon?.sprite?.destroy();\r\n\r\n\t\t\tside.missedPokemon = {\r\n\t\t\t\tsprite: new PokemonSprite(null, {\r\n\t\t\t\t\tx: side.leftof(this.battle.gameType === 'freeforall' ? -50 : -100),\r\n\t\t\t\t\ty: side.y,\r\n\t\t\t\t\tz: side.z,\r\n\t\t\t\t\topacity: 0,\r\n\t\t\t\t}, this, side.isFar),\r\n\t\t\t} as any;\r\n\r\n\t\t\tside.missedPokemon.sprite.isMissedPokemon = true;\r\n\t\t}\r\n\t\tif (this.battle.sides.length > 2 && this.sideConditions.length === 2) {\r\n\t\t\tthis.sideConditions.push({}, {});\r\n\t\t}\r\n\t\tthis.rebuildTooltips();\r\n\t}\r\n\trebuildTooltips() {\r\n\t\tlet tooltipBuf = '';\r\n\t\tconst tooltips = this.battle.gameType === 'freeforall' ? {\r\n\t\t\t// FFA battles are visually rendered as triple battle with the center slots empty\r\n\t\t\t// so we swap the 2nd and 3rd tooltips on each side\r\n\t\t\tp2b: {top: 70, left: 250, width: 80, height: 100, tooltip: 'activepokemon|1|1'},\r\n\t\t\tp2a: {top: 90, left: 390, width: 100, height: 100, tooltip: 'activepokemon|1|0'},\r\n\t\t\tp1a: {top: 200, left: 130, width: 120, height: 160, tooltip: 'activepokemon|0|0'},\r\n\t\t\tp1b: {top: 200, left: 350, width: 150, height: 160, tooltip: 'activepokemon|0|1'},\r\n\t\t} : {\r\n\t\t\tp2c: {top: 70, left: 250, width: 80, height: 100, tooltip: 'activepokemon|1|2'},\r\n\t\t\tp2b: {top: 85, left: 320, width: 90, height: 100, tooltip: 'activepokemon|1|1'},\r\n\t\t\tp2a: {top: 90, left: 390, width: 100, height: 100, tooltip: 'activepokemon|1|0'},\r\n\t\t\tp1a: {top: 200, left: 130, width: 120, height: 160, tooltip: 'activepokemon|0|0'},\r\n\t\t\tp1b: {top: 200, left: 250, width: 150, height: 160, tooltip: 'activepokemon|0|1'},\r\n\t\t\tp1c: {top: 200, left: 350, width: 150, height: 160, tooltip: 'activepokemon|0|2'},\r\n\t\t};\r\n\t\tfor (const id in tooltips) {\r\n\t\t\tlet layout = tooltips[id as 'p1a'];\r\n\t\t\ttooltipBuf += `<div class=\"has-tooltip\" style=\"position:absolute;`;\r\n\t\t\ttooltipBuf += `top:${layout.top}px;left:${layout.left}px;width:${layout.width}px;height:${layout.height}px;`;\r\n\t\t\ttooltipBuf += `\" data-id=\"${id}\" data-tooltip=\"${layout.tooltip}\" data-ownheight=\"1\"></div>`;\r\n\t\t}\r\n\t\tthis.$tooltips.html(tooltipBuf);\r\n\t}\r\n\r\n\tteamPreview() {\r\n\t\tlet newBGNum = 0;\r\n\t\tfor (let siden = 0; siden < 2 || (this.battle.gameType === 'multi' && siden < 4); siden++) {\r\n\t\t\tlet side = this.battle.sides[siden];\r\n\t\t\tconst spriteIndex = +this.battle.viewpointSwitched ^ (siden % 2);\r\n\t\t\tlet textBuf = '';\r\n\t\t\tlet buf = '';\r\n\t\t\tlet buf2 = '';\r\n\t\t\tthis.$sprites[spriteIndex].empty();\r\n\r\n\t\t\tlet ludicoloCount = 0;\r\n\t\t\tlet lombreCount = 0;\r\n\t\t\tfor (let i = 0; i < side.pokemon.length; i++) {\r\n\t\t\t\tlet pokemon = side.pokemon[i];\r\n\t\t\t\tif (pokemon.speciesForme === 'Xerneas-*') {\r\n\t\t\t\t\tpokemon.speciesForme = 'Xerneas-Neutral';\r\n\t\t\t\t}\r\n\t\t\t\tif (pokemon.speciesForme === 'Ludicolo') ludicoloCount++;\r\n\t\t\t\tif (pokemon.speciesForme === 'Lombre') lombreCount++;\r\n\r\n\t\t\t\tlet spriteData = Dex.getSpriteData(pokemon, !!spriteIndex, {\r\n\t\t\t\t\tgen: this.gen,\r\n\t\t\t\t\tnoScale: true,\r\n\t\t\t\t\tmod: this.mod,\r\n\t\t\t\t});\r\n\t\t\t\tlet y = 0;\r\n\t\t\t\tlet x = 0;\r\n\t\t\t\tif (spriteIndex) {\r\n\t\t\t\t\ty = 48 + 50 + 3 * (i + 6 - side.pokemon.length);\r\n\t\t\t\t\tx = 48 + 180 + 50 * (i + 6 - side.pokemon.length);\r\n\t\t\t\t} else {\r\n\t\t\t\t\ty = 48 + 200 + 3 * i;\r\n\t\t\t\t\tx = 48 + 100 + 50 * i;\r\n\t\t\t\t}\r\n\t\t\t\tif (textBuf) textBuf += ' / ';\r\n\t\t\t\ttextBuf += pokemon.speciesForme;\r\n\t\t\t\tlet url = spriteData.url;\r\n\t\t\t\t// if (this.paused) url.replace('/xyani', '/xy').replace('.gif', '.png');\r\n\t\t\t\tbuf += '<img src=\"' + url + '\" width=\"' + spriteData.w + '\" height=\"' + spriteData.h + '\" style=\"position:absolute;top:' + Math.floor(y - spriteData.h / 2) + 'px;left:' + Math.floor(x - spriteData.w / 2) + 'px\" />';\r\n\t\t\t\tbuf2 += '<div style=\"position:absolute;top:' + (y + 45) + 'px;left:' + (x - 40) + 'px;width:80px;font-size:10px;text-align:center;color:#FFF;\">';\r\n\t\t\t\tconst gender = pokemon.gender;\r\n\t\t\t\tif (gender === 'M' || gender === 'F') {\r\n\t\t\t\t\tbuf2 += `<img src=\"${Dex.fxPrefix}gender-${gender.toLowerCase()}.png\" alt=\"${gender}\" width=\"7\" height=\"10\" class=\"pixelated\" style=\"margin-bottom:-1px\" /> `;\r\n\t\t\t\t}\r\n\t\t\t\tif (pokemon.level !== 100) {\r\n\t\t\t\t\tbuf2 += '<span style=\"text-shadow:#000 1px 1px 0,#000 1px -1px 0,#000 -1px 1px 0,#000 -1px -1px 0\"><small>L</small>' + pokemon.level + '</span>';\r\n\t\t\t\t}\r\n\t\t\t\tif (pokemon.item === '(mail)') {\r\n\t\t\t\t\tbuf2 += ' <img src=\"' + Dex.resourcePrefix + 'fx/mail.png\" width=\"8\" height=\"10\" alt=\"F\" style=\"margin-bottom:-1px\" />';\r\n\t\t\t\t} else if (pokemon.item) {\r\n\t\t\t\t\tbuf2 += ' <img src=\"' + Dex.resourcePrefix + 'fx/item.png\" width=\"8\" height=\"10\" alt=\"F\" style=\"margin-bottom:-1px\" />';\r\n\t\t\t\t}\r\n\t\t\t\tbuf2 += '</div>';\r\n\t\t\t}\r\n\t\t\tside.totalPokemon = side.pokemon.length;\r\n\t\t\tif (textBuf) {\r\n\t\t\t\tthis.log.addDiv('chat battle-history',\r\n\t\t\t\t\t'<strong>' + BattleLog.escapeHTML(side.name) + '\\'s team:</strong> <em style=\"color:#445566;display:block;\">' + BattleLog.escapeHTML(textBuf) + '</em>'\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tthis.$sprites[spriteIndex].html(buf + buf2);\r\n\r\n\t\t\tif (!newBGNum) {\r\n\t\t\t\tif (ludicoloCount >= 2) {\r\n\t\t\t\t\tnewBGNum = -3;\r\n\t\t\t\t} else if (ludicoloCount + lombreCount >= 2) {\r\n\t\t\t\t\tnewBGNum = -2;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (newBGNum !== 0) {\r\n\t\t\tthis.setBgm(newBGNum);\r\n\t\t}\r\n\t\tthis.wait(1000);\r\n\t\tthis.updateSidebars();\r\n\t}\r\n\r\n\tshowJoinButtons() {\r\n\t\tif (!this.battle.joinButtons) return;\r\n\t\tif (this.battle.ended || this.battle.rated) return;\r\n\t\tif (!this.battle.p1.name) {\r\n\t\t\tthis.$battle.append('<div class=\"playbutton1\"><button name=\"joinBattle\">Join Battle</button></div>');\r\n\t\t}\r\n\t\tif (!this.battle.p2.name) {\r\n\t\t\tthis.$battle.append('<div class=\"playbutton2\"><button name=\"joinBattle\">Join Battle</button></div>');\r\n\t\t}\r\n\t}\r\n\thideJoinButtons() {\r\n\t\tif (!this.battle.joinButtons) return;\r\n\t\tthis.$battle.find('.playbutton1, .playbutton2').remove();\r\n\t}\r\n\r\n\tpseudoWeatherLeft(pWeather: WeatherState) {\r\n\t\tlet buf = '<br />' + Dex.moves.get(pWeather[0]).name;\r\n\t\tif (!pWeather[1] && pWeather[2]) {\r\n\t\t\tpWeather[1] = pWeather[2];\r\n\t\t\tpWeather[2] = 0;\r\n\t\t}\r\n\t\tif (this.battle.gen < 7 && this.battle.hardcoreMode) return buf;\r\n\t\tif (pWeather[2]) {\r\n\t\t\treturn buf + ' <small>(' + pWeather[1] + ' or ' + pWeather[2] + ' turns)</small>';\r\n\t\t}\r\n\t\tif (pWeather[1]) {\r\n\t\t\treturn buf + ' <small>(' + pWeather[1] + ' turn' + (pWeather[1] === 1 ? '' : 's') + ')</small>';\r\n\t\t}\r\n\t\treturn buf; // weather not found\r\n\t}\r\n\tsideConditionLeft(cond: [string, number, number, number], isFoe: boolean, all?: boolean) {\r\n\t\tif (!cond[2] && !cond[3] && !all) return '';\r\n\t\tlet buf = `<br />${isFoe && !all ? \"Foe's \" : \"\"}${Dex.moves.get(cond[0]).name}`;\r\n\t\tif (this.battle.gen < 7 && this.battle.hardcoreMode) return buf;\r\n\r\n\t\tif (!cond[2] && !cond[3]) return buf;\r\n\t\tif (!cond[2] && cond[3]) {\r\n\t\t\tcond[2] = cond[3];\r\n\t\t\tcond[3] = 0;\r\n\t\t}\r\n\t\tif (!cond[3]) {\r\n\t\t\treturn buf + ' <small>(' + cond[2] + ' turn' + (cond[2] === 1 ? '' : 's') + ')</small>';\r\n\t\t}\r\n\t\treturn buf + ' <small>(' + cond[2] + ' or ' + cond[3] + ' turns)</small>';\r\n\t}\r\n\tclimateWeatherLeft() {\r\n\t\tif (this.battle.gen < 7 && this.battle.hardcoreMode) return '';\r\n\r\n\t\tlet weatherhtml = ``;\r\n\r\n\t\tif (this.battle.climateWeather) {\r\n\t\t\tconst weatherNameTable: {[id: string]: string} = {\r\n\t\t\t\tsunnyday: 'Sun',\r\n\t\t\t\tdesolateland: 'Intense Sun',\r\n\t\t\t\traindance: 'Rain',\r\n\t\t\t\tprimordialsea: 'Heavy Rain',\r\n\t\t\t\thail: 'Hail',\r\n\t\t\t\tsnow: 'Snow',\r\n\t\t\t\tbloodmoon: 'Blood Moon',\r\n\t\t\t\tfoghorn: 'Fog',\r\n\t\t\t\tdeltastream: 'Delta Stream',\r\n\t\t\t};\r\n\t\t\tweatherhtml = `${weatherNameTable[this.battle.climateWeather] || this.battle.climateWeather}`;\r\n\t\t\tif (this.battle.climateWeatherMinTimeLeft !== 0) {\r\n\t\t\t\tweatherhtml += ` <small>(${this.battle.climateWeatherMinTimeLeft} or ${this.battle.climateWeatherTimeLeft} turns)</small>`;\r\n\t\t\t} else if (this.battle.climateWeatherTimeLeft !== 0) {\r\n\t\t\t\tweatherhtml += ` <small>(${this.battle.climateWeatherTimeLeft} turn${this.battle.climateWeatherTimeLeft === 1 ? '' : 's'})</small>`;\r\n\t\t\t}\r\n\t\t\tconst nullifyWeather = this.battle.abilityActive(['Air Lock', 'Cloud Nine', 'Nullify']);\r\n\t\t\tweatherhtml = `${nullifyWeather ? '<s>' : ''}${weatherhtml}${nullifyWeather ? '</s>' : ''}`;\r\n\t\t}\r\n\r\n\t\treturn weatherhtml;\r\n\t}\r\n\tirritantWeatherLeft() {\r\n\t\tif (this.battle.gen < 7 && this.battle.hardcoreMode) return '';\r\n\r\n\t\tlet weatherhtml = ``;\r\n\r\n\t\tif (this.battle.irritantWeather) {\r\n\t\t\tconst weatherNameTable: {[id: string]: string} = {\r\n\t\t\t\tsandstorm: 'Sandstorm',\r\n\t\t\t\tduststorm: 'Dust Storm',\r\n\t\t\t\tpollinate: 'Pollen Storm',\r\n\t\t\t\tswarmsignal: 'Pheromones',\r\n\t\t\t\tsmogspread: 'Smog',\r\n\t\t\t\tsprinkle: 'Fairy Dust',\r\n\t\t\t};\r\n\t\t\tweatherhtml = `${weatherNameTable[this.battle.irritantWeather] || this.battle.irritantWeather}`;\r\n\t\t\tif (this.battle.irritantWeatherMinTimeLeft !== 0) {\r\n\t\t\t\tweatherhtml += ` <small>(${this.battle.irritantWeatherMinTimeLeft} or ${this.battle.irritantWeatherTimeLeft} turns)</small>`;\r\n\t\t\t} else if (this.battle.irritantWeatherTimeLeft !== 0) {\r\n\t\t\t\tweatherhtml += ` <small>(${this.battle.irritantWeatherTimeLeft} turn${this.battle.irritantWeatherTimeLeft === 1 ? '' : 's'})</small>`;\r\n\t\t\t}\r\n\t\t\tif (this.climateWeatherLeft()) {\r\n\t\t\t\tweatherhtml = `<br />` + weatherhtml;\r\n\t\t\t}\r\n\t\t\tconst nullifyWeather = this.battle.abilityActive('Nullify');\r\n\t\t\tweatherhtml = `${nullifyWeather ? '<s>' : ''}${weatherhtml}${nullifyWeather ? '</s>' : ''}`;\r\n\t\t}\r\n\r\n\t\treturn weatherhtml;\r\n\t}\r\n\tenergyWeatherLeft() {\r\n\t\tif (this.battle.gen < 7 && this.battle.hardcoreMode) return '';\r\n\r\n\t\tlet weatherhtml = ``;\r\n\r\n\t\tif (this.battle.energyWeather) {\r\n\t\t\tconst weatherNameTable: {[id: string]: string} = {\r\n\t\t\t\tauraprojection: 'Battle Aura',\r\n\t\t\t\thaunt: 'Cursed Winds',\r\n\t\t\t\tcosmicrays: 'Psychic Field',\r\n\t\t\t\tdragonforce: 'Dragon Force',\r\n\t\t\t\tsupercell: 'Thunderstorm',\r\n\t\t\t\tmagnetize: 'Magnetosphere',\r\n\t\t\t};\r\n\t\t\tweatherhtml = `${weatherNameTable[this.battle.energyWeather] || this.battle.energyWeather}`;\r\n\t\t\tif (this.battle.energyWeatherMinTimeLeft !== 0) {\r\n\t\t\t\tweatherhtml += ` <small>(${this.battle.energyWeatherMinTimeLeft} or ${this.battle.energyWeatherTimeLeft} turns)</small>`;\r\n\t\t\t} else if (this.battle.energyWeatherTimeLeft !== 0) {\r\n\t\t\t\tweatherhtml += ` <small>(${this.battle.energyWeatherTimeLeft} turn${this.battle.energyWeatherTimeLeft === 1 ? '' : 's'})</small>`;\r\n\t\t\t}\r\n\t\t\tif (this.climateWeatherLeft()) {\r\n\t\t\t\tweatherhtml = `<br />` + weatherhtml;\r\n\t\t\t}\r\n\t\t\tif (this.irritantWeatherLeft()) {\r\n\t\t\t\tweatherhtml = `<br />` + weatherhtml;\r\n\t\t\t}\r\n\t\t\tconst nullifyWeather = this.battle.abilityActive('Nullify');\r\n\t\t\tweatherhtml = `${nullifyWeather ? '<s>' : ''}${weatherhtml}${nullifyWeather ? '</s>' : ''}`;\r\n\t\t}\r\n\r\n\t\treturn weatherhtml;\r\n\t}\r\n\tclearingWeatherLeft() { // also includes psuedoweathers\r\n\t\tif (this.battle.gen < 7 && this.battle.hardcoreMode) return '';\r\n\r\n\t\tlet weatherhtml = ``;\r\n\r\n\t\tif (this.battle.clearingWeather) {\r\n\t\t\tconst weatherNameTable: {[id: string]: string} = {\r\n\t\t\t\tstrongwinds: 'Strong Winds',\r\n\t\t\t};\r\n\t\t\tweatherhtml = `${weatherNameTable[this.battle.clearingWeather] || this.battle.clearingWeather}`;\r\n\t\t\tif (this.battle.clearingWeatherMinTimeLeft !== 0) {\r\n\t\t\t\tweatherhtml += ` <small>(${this.battle.clearingWeatherMinTimeLeft} or ${this.battle.clearingWeatherTimeLeft} turns)</small>`;\r\n\t\t\t} else if (this.battle.clearingWeatherTimeLeft !== 0) {\r\n\t\t\t\tweatherhtml += ` <small>(${this.battle.clearingWeatherTimeLeft} turn${this.battle.clearingWeatherTimeLeft === 1 ? '' : 's'})</small>`;\r\n\t\t\t}\r\n\t\t\tif (this.climateWeatherLeft()) {\r\n\t\t\t\tweatherhtml = `<br />` + weatherhtml;\r\n\t\t\t}\r\n\t\t\tif (this.irritantWeatherLeft()) {\r\n\t\t\t\tweatherhtml = `<br />` + weatherhtml;\r\n\t\t\t}\r\n\t\t\tif (this.energyWeatherLeft()) {\r\n\t\t\t\tweatherhtml = `<br />` + weatherhtml;\r\n\t\t\t}\r\n\t\t\tconst nullifyWeather = this.battle.abilityActive('Nullify');\r\n\t\t\tweatherhtml = `${nullifyWeather ? '<s>' : ''}${weatherhtml}${nullifyWeather ? '</s>' : ''}`;\r\n\t\t}\r\n\r\n\t\tfor (const pseudoWeather of this.battle.pseudoWeather) {\r\n\t\t\tweatherhtml += this.pseudoWeatherLeft(pseudoWeather);\r\n\t\t}\r\n\r\n\t\treturn weatherhtml;\r\n\t}\r\n\tsideConditionsLeft(side: Side, all?: boolean) {\r\n\t\tlet buf = ``;\r\n\t\tfor (const id in side.sideConditions) {\r\n\t\t\tbuf += this.sideConditionLeft(side.sideConditions[id], side.isFar, all);\r\n\t\t}\r\n\t\treturn buf;\r\n\t}\r\n\tupkeepClimateWeather() {\r\n\t\tconst isIntense = ['desolateland', 'primordialsea', 'deltastream'].includes(this.curClimateWeather);\r\n\t\tthis.$climateWeather.animate({\r\n\t\t\topacity: 1.0,\r\n\t\t}, 300).animate({\r\n\t\t\topacity: isIntense ? 0.9 : 0.5,\r\n\t\t}, 300);\r\n\t}\r\n\tupkeepIrritantWeather() {\r\n\t\tthis.$irritantWeather.animate({\r\n\t\t\topacity: 1.0,\r\n\t\t}, 300).animate({\r\n\t\t\topacity: 0.5,\r\n\t\t}, 300);\r\n\t}\r\n\tupkeepEnergyWeather() {\r\n\t\tthis.$energyWeather.animate({\r\n\t\t\topacity: 1.0,\r\n\t\t}, 300).animate({\r\n\t\t\topacity: 0.5,\r\n\t\t}, 300);\r\n\t}\r\n\tupkeepClearingWeather() {\r\n\t\tthis.$clearingWeather.animate({\r\n\t\t\topacity: 1.0,\r\n\t\t}, 300).animate({\r\n\t\t\topacity: 0.5,\r\n\t\t}, 300);\r\n\t}\r\n\tupdateWeather(instant?: boolean) {\r\n\t\tif (!this.animating) return;\r\n\t\tlet isIntense = false;\r\n\t\tlet climateWeather = this.battle.climateWeather;\r\n\t\tlet irritantWeather = this.battle.irritantWeather;\r\n\t\tlet energyWeather = this.battle.energyWeather;\r\n\t\tlet clearingWeather = this.battle.clearingWeather;\r\n\t\tif (this.battle.abilityActive(['Air Lock', 'Cloud Nine', 'Nullify'])) {\r\n\t\t\tclimateWeather = '' as ID;\r\n\t\t}\r\n\t\tlet terrain = '' as ID;\r\n\t\tfor (const pseudoWeatherData of this.battle.pseudoWeather) {\r\n\t\t\tterrain = toID(pseudoWeatherData[0]);\r\n\t\t}\r\n\t\tif (climateWeather === 'desolateland' || climateWeather === 'primordialsea' || climateWeather === 'deltastream') {\r\n\t\t\tisIntense = true;\r\n\t\t}\r\n\r\n\t\tlet climateWeatherhtml = this.climateWeatherLeft();\r\n\t\tlet irritantWeatherhtml = this.irritantWeatherLeft();\r\n\t\tlet energyWeatherhtml = this.energyWeatherLeft();\r\n\t\tlet clearingWeatherhtml = this.clearingWeatherLeft();\r\n\t\tfor (const side of this.battle.sides) {\r\n\t\t\tclimateWeatherhtml += this.sideConditionsLeft(side);\r\n\t\t\tirritantWeatherhtml += this.sideConditionsLeft(side);\r\n\t\t\tenergyWeatherhtml += this.sideConditionsLeft(side);\r\n\t\t\tclearingWeatherhtml += this.sideConditionsLeft(side);\r\n\t\t}\r\n\t\tif (climateWeatherhtml) climateWeatherhtml = `<br />` + climateWeatherhtml;\r\n\t\tif (irritantWeatherhtml) irritantWeatherhtml = `<br />` + irritantWeatherhtml;\r\n\t\tif (energyWeatherhtml) energyWeatherhtml = `<br />` + energyWeatherhtml;\r\n\t\tif (clearingWeatherhtml) clearingWeatherhtml = `<br />` + clearingWeatherhtml;\r\n\r\n\t\tif (instant) {\r\n\t\t\tthis.$climateWeather.html('<em>' + climateWeatherhtml + '</em>');\r\n\t\t\tthis.$irritantWeather.html('<em>' + irritantWeatherhtml + '</em>');\r\n\t\t\tthis.$energyWeather.html('<em>' + energyWeatherhtml + '</em>');\r\n\t\t\tthis.$clearingWeather.html('<em>' + clearingWeatherhtml + '</em>');\r\n\t\t\tif (this.curClimateWeather === climateWeather && this.curIrritantWeather === irritantWeather &&\r\n\t\t\t\tthis.curEnergyWeather === energyWeather && this.curClearingWeather === clearingWeather &&\r\n\t\t\t\tthis.curTerrain === terrain) return;\r\n\t\t\tthis.$terrain.attr('class', terrain ? 'weather ' + terrain + 'weather' : 'weather');\r\n\t\t\tthis.curTerrain = terrain;\r\n\t\t\tthis.$climateWeather.attr('class', climateWeather ? 'weather ' + climateWeather + 'weather' : 'weather');\r\n\t\t\tthis.$irritantWeather.attr('class', irritantWeather ? 'weather ' + irritantWeather + 'weather' : 'weather');\r\n\t\t\tthis.$energyWeather.attr('class', energyWeather ? 'weather ' + energyWeather + 'weather' : 'weather');\r\n\t\t\tthis.$clearingWeather.attr('class', clearingWeather ? 'weather ' + clearingWeather + 'weather' : 'weather');\r\n\t\t\tthis.$climateWeather.css('opacity', isIntense || !climateWeather ? 0.9 : 0.5);\r\n\t\t\tthis.$irritantWeather.css('opacity', !irritantWeather ? 0.9 : 0.5);\r\n\t\t\tthis.$energyWeather.css('opacity', !energyWeather ? 0.9 : 0.5);\r\n\t\t\tthis.$clearingWeather.css('opacity', !clearingWeather ? 0.9 : 0.5);\r\n\t\t\tthis.curClimateWeather = climateWeather;\r\n\t\t\tthis.curIrritantWeather = irritantWeather;\r\n\t\t\tthis.curEnergyWeather = energyWeather;\r\n\t\t\tthis.curClearingWeather = clearingWeather;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (climateWeather !== this.curClimateWeather) {\r\n\t\t\tthis.$climateWeather.animate({\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, this.curClimateWeather ? 300 : 100, () => {\r\n\t\t\t\tthis.$climateWeather.html('<em>' + climateWeatherhtml + '</em>');\r\n\t\t\t\tthis.$climateWeather.attr('class', climateWeather ? 'weather ' + climateWeather + 'weather' : 'weather');\r\n\t\t\t\tthis.$climateWeather.animate({opacity: isIntense || !climateWeather ? 0.9 : 0.5}, 300);\r\n\t\t\t});\r\n\t\t\tthis.curClimateWeather = climateWeather;\r\n\t\t} else {\r\n\t\t\tthis.$climateWeather.html('<em>' + climateWeatherhtml + '</em>');\r\n\t\t}\r\n\r\n\t\tif (irritantWeather !== this.curIrritantWeather) {\r\n\t\t\tthis.$irritantWeather.animate({\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, this.curIrritantWeather ? 600 : 100, () => {\r\n\t\t\t\tthis.$irritantWeather.html('<em>' + irritantWeatherhtml + '</em>');\r\n\t\t\t\tthis.$irritantWeather.attr('class', irritantWeather ? 'weather ' + irritantWeather + 'weather' : 'weather');\r\n\t\t\t\tthis.$irritantWeather.animate({opacity: !irritantWeather ? 0.9 : 0.5}, 300);\r\n\t\t\t});\r\n\t\t\tthis.curIrritantWeather = irritantWeather;\r\n\t\t} else {\r\n\t\t\tthis.$irritantWeather.html('<em>' + irritantWeatherhtml + '</em>');\r\n\t\t}\r\n\r\n\t\tif (energyWeather !== this.curEnergyWeather) {\r\n\t\t\tthis.$energyWeather.animate({\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, this.curEnergyWeather ? 300 : 100, () => {\r\n\t\t\t\tthis.$energyWeather.html('<em>' + energyWeatherhtml + '</em>');\r\n\t\t\t\tthis.$energyWeather.attr('class', energyWeather ? 'weather ' + energyWeather + 'weather' : 'weather');\r\n\t\t\t\tthis.$energyWeather.animate({opacity: !energyWeather ? 0.9 : 0.5}, 300);\r\n\t\t\t});\r\n\t\t\tthis.curEnergyWeather = energyWeather;\r\n\t\t} else {\r\n\t\t\tthis.$energyWeather.html('<em>' + energyWeatherhtml + '</em>');\r\n\t\t}\r\n\r\n\t\tif (clearingWeather !== this.curClearingWeather) {\r\n\t\t\tthis.$clearingWeather.animate({\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, this.curClearingWeather ? 300 : 100, () => {\r\n\t\t\t\tthis.$clearingWeather.html('<em>' + clearingWeatherhtml + '</em>');\r\n\t\t\t\tthis.$clearingWeather.attr('class', clearingWeather ? 'weather ' + clearingWeather + 'weather' : 'weather');\r\n\t\t\t\tthis.$clearingWeather.animate({opacity: !clearingWeather ? 0.9 : 0.5}, 300);\r\n\t\t\t});\r\n\t\t\tthis.curClearingWeather = clearingWeather;\r\n\t\t} else {\r\n\t\t\tthis.$clearingWeather.html('<em>' + clearingWeatherhtml + '</em>');\r\n\t\t}\r\n\r\n\t\tif (terrain !== this.curTerrain) {\r\n\t\t\tthis.$terrain.animate({\r\n\t\t\t\ttop: 360,\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, this.curTerrain ? 400 : 1, () => {\r\n\t\t\t\tthis.$terrain.attr('class', terrain ? 'weather ' + terrain + 'weather' : 'weather');\r\n\t\t\t\tthis.$terrain.animate({top: 0, opacity: 1}, 400);\r\n\t\t\t});\r\n\t\t\tthis.curTerrain = terrain;\r\n\t\t}\r\n\t}\r\n\tresetTurn() {\r\n\t\tif (this.battle.turn <= 0) {\r\n\t\t\tthis.$turn.html('');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.$turn.html('<div class=\"turn has-tooltip\" data-tooltip=\"field\" data-ownheight=\"1\">Turn ' + this.battle.turn + '</div>');\r\n\t}\r\n\tincrementTurn() {\r\n\t\tif (!this.animating) return;\r\n\r\n\t\tconst turn = this.battle.turn;\r\n\t\tif (turn <= 0) return;\r\n\t\tconst $prevTurn = this.$turn.children();\r\n\t\tconst $newTurn = $('<div class=\"turn has-tooltip\" data-tooltip=\"field\" data-ownheight=\"1\">Turn ' + turn + '</div>');\r\n\t\t$newTurn.css({\r\n\t\t\topacity: 0,\r\n\t\t\tleft: 160,\r\n\t\t});\r\n\t\tthis.$turn.append($newTurn);\r\n\t\t$newTurn.animate({\r\n\t\t\topacity: 1,\r\n\t\t\tleft: 110,\r\n\t\t}, 500).animate({\r\n\t\t\topacity: .4,\r\n\t\t}, 1500);\r\n\t\t$prevTurn.animate({\r\n\t\t\topacity: 0,\r\n\t\t\tleft: 60,\r\n\t\t}, 500, () => {\r\n\t\t\t$prevTurn.remove();\r\n\t\t});\r\n\t\tthis.updateAcceleration();\r\n\t\tthis.wait(500 / this.acceleration);\r\n\t}\r\n\tupdateAcceleration() {\r\n\t\tif (this.battle.turnsSinceMoved > 2) {\r\n\t\t\tthis.acceleration = (this.battle.messageFadeTime < 150 ? 2 : 1) * Math.min(this.battle.turnsSinceMoved - 1, 3);\r\n\t\t} else {\r\n\t\t\tthis.acceleration = (this.battle.messageFadeTime < 150 ? 2 : 1);\r\n\t\t\tif (this.battle.messageFadeTime < 50) this.acceleration = 3;\r\n\t\t}\r\n\t}\r\n\r\n\taddPokemonSprite(pokemon: Pokemon) {\r\n\t\tconst sprite = new PokemonSprite(Dex.getSpriteData(pokemon, pokemon.side.isFar, {\r\n\t\t\tgen: this.gen,\r\n\t\t\tmod: this.mod,\r\n\t\t}), {\r\n\t\t\tx: pokemon.side.x,\r\n\t\t\ty: pokemon.side.y,\r\n\t\t\tz: pokemon.side.z,\r\n\t\t\topacity: 0,\r\n\t\t}, this, pokemon.side.isFar);\r\n\t\tif (sprite.$el) this.$sprites[+pokemon.side.isFar].append(sprite.$el);\r\n\t\treturn sprite;\r\n\t}\r\n\r\n\taddSideCondition(siden: number, id: ID, instant?: boolean) {\r\n\t\tif (!this.animating) return;\r\n\t\tconst side = this.battle.sides[siden];\r\n\t\tconst spriteIndex = +side.isFar;\r\n\t\tlet x = side.x;\r\n\t\tlet y = side.y;\r\n\t\tif (this.battle.gameType === 'freeforall') {\r\n\t\t\tx += side.isFar ? 20 : -20;\r\n\t\t\tif (side.n > 1) {\r\n\t\t\t\tx += (side.isFar ? -140 : 140);\r\n\t\t\t\ty += side.isFar ? 14 : -20;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tswitch (id) {\r\n\t\tcase 'auroraveil':\r\n\t\t\tconst auroraveil = new Sprite(BattleEffects.auroraveil, {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx,\r\n\t\t\t\ty,\r\n\t\t\t\tz: side.behind(-14),\r\n\t\t\t\txscale: 1,\r\n\t\t\t\tyscale: 0,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t}, this);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(auroraveil.$el!);\r\n\t\t\tthis.sideConditions[siden][id] = [auroraveil];\r\n\t\t\tauroraveil.anim({\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: instant ? 0 : 400,\r\n\t\t\t}).anim({\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: instant ? 0 : 300,\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 'reflect':\r\n\t\t\tconst reflect = new Sprite(BattleEffects.reflect, {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx,\r\n\t\t\t\ty,\r\n\t\t\t\tz: side.behind(-17),\r\n\t\t\t\txscale: 1,\r\n\t\t\t\tyscale: 0,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t}, this);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(reflect.$el!);\r\n\t\t\tthis.sideConditions[siden][id] = [reflect];\r\n\t\t\treflect.anim({\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: instant ? 0 : 400,\r\n\t\t\t}).anim({\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: instant ? 0 : 300,\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 'safeguard':\r\n\t\t\tconst safeguard = new Sprite(BattleEffects.safeguard, {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx,\r\n\t\t\t\ty,\r\n\t\t\t\tz: side.behind(-20),\r\n\t\t\t\txscale: 1,\r\n\t\t\t\tyscale: 0,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t}, this);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(safeguard.$el!);\r\n\t\t\tthis.sideConditions[siden][id] = [safeguard];\r\n\t\t\tsafeguard.anim({\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: instant ? 0 : 400,\r\n\t\t\t}).anim({\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: instant ? 0 : 300,\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 'lightscreen':\r\n\t\t\tconst lightscreen = new Sprite(BattleEffects.lightscreen, {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx,\r\n\t\t\t\ty,\r\n\t\t\t\tz: side.behind(-23),\r\n\t\t\t\txscale: 1,\r\n\t\t\t\tyscale: 0,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t}, this);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(lightscreen.$el!);\r\n\t\t\tthis.sideConditions[siden][id] = [lightscreen];\r\n\t\t\tlightscreen.anim({\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: instant ? 0 : 400,\r\n\t\t\t}).anim({\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: instant ? 0 : 300,\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 'mist':\r\n\t\t\tconst mist = new Sprite(BattleEffects.mist, {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx,\r\n\t\t\t\ty,\r\n\t\t\t\tz: side.behind(-27),\r\n\t\t\t\txscale: 1,\r\n\t\t\t\tyscale: 0,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t}, this);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(mist.$el!);\r\n\t\t\tthis.sideConditions[siden][id] = [mist];\r\n\t\t\tmist.anim({\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: instant ? 0 : 400,\r\n\t\t\t}).anim({\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: instant ? 0 : 300,\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 'stealthrock':\r\n\t\t\tconst rock1 = new Sprite(BattleEffects.rock1, {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: x + side.leftof(-40),\r\n\t\t\t\ty: y - 10,\r\n\t\t\t\tz: side.z,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t}, this);\r\n\r\n\t\t\tconst rock2 = new Sprite(BattleEffects.rock2, {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: x + side.leftof(-20),\r\n\t\t\t\ty: y - 40,\r\n\t\t\t\tz: side.z,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t}, this);\r\n\r\n\t\t\tconst rock3 = new Sprite(BattleEffects.rock1, {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: x + side.leftof(30),\r\n\t\t\t\ty: y - 20,\r\n\t\t\t\tz: side.z,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t}, this);\r\n\r\n\t\t\tconst rock4 = new Sprite(BattleEffects.rock2, {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: x + side.leftof(10),\r\n\t\t\t\ty: y - 30,\r\n\t\t\t\tz: side.z,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t}, this);\r\n\r\n\t\t\tthis.$spritesFront[spriteIndex].append(rock1.$el!);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(rock2.$el!);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(rock3.$el!);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(rock4.$el!);\r\n\t\t\tthis.sideConditions[siden][id] = [rock1, rock2, rock3, rock4];\r\n\t\t\tbreak;\r\n\t\tcase 'gmaxsteelsurge':\r\n\t\t\tconst surge1 = new Sprite(BattleEffects.greenmetal1, {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: x + side.leftof(-30),\r\n\t\t\t\ty: y - 20,\r\n\t\t\t\tz: side.z,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\tscale: 0.8,\r\n\t\t\t}, this);\r\n\t\t\tconst surge2 = new Sprite(BattleEffects.greenmetal2, {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: x + side.leftof(35),\r\n\t\t\t\ty: y - 15,\r\n\t\t\t\tz: side.z,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\tscale: 0.8,\r\n\t\t\t}, this);\r\n\t\t\tconst surge3 = new Sprite(BattleEffects.greenmetal1, {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: x + side.leftof(50),\r\n\t\t\t\ty: y - 10,\r\n\t\t\t\tz: side.z,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\tscale: 0.8,\r\n\t\t\t}, this);\r\n\r\n\t\t\tthis.$spritesFront[spriteIndex].append(surge1.$el!);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(surge2.$el!);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(surge3.$el!);\r\n\t\t\tthis.sideConditions[siden][id] = [surge1, surge2, surge3];\r\n\t\t\tbreak;\r\n\t\tcase 'spikes':\r\n\t\t\tlet spikeArray = this.sideConditions[siden]['spikes'];\r\n\t\t\tif (!spikeArray) {\r\n\t\t\t\tspikeArray = [];\r\n\t\t\t\tthis.sideConditions[siden]['spikes'] = spikeArray;\r\n\t\t\t}\r\n\t\t\tlet levels = this.battle.sides[siden].sideConditions['spikes'][1];\r\n\t\t\tif (spikeArray.length < 1 && levels >= 1) {\r\n\t\t\t\tconst spike1 = new Sprite(BattleEffects.caltrop, {\r\n\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\tx: x - 25,\r\n\t\t\t\t\ty: y - 40,\r\n\t\t\t\t\tz: side.z,\r\n\t\t\t\t\tscale: 0.3,\r\n\t\t\t\t}, this);\r\n\t\t\t\tthis.$spritesFront[spriteIndex].append(spike1.$el!);\r\n\t\t\t\tspikeArray.push(spike1);\r\n\t\t\t}\r\n\t\t\tif (spikeArray.length < 2 && levels >= 2) {\r\n\t\t\t\tconst spike2 = new Sprite(BattleEffects.caltrop, {\r\n\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\tx: x + 30,\r\n\t\t\t\t\ty: y - 45,\r\n\t\t\t\t\tz: side.z,\r\n\t\t\t\t\tscale: .3,\r\n\t\t\t\t}, this);\r\n\t\t\t\tthis.$spritesFront[spriteIndex].append(spike2.$el!);\r\n\t\t\t\tspikeArray.push(spike2);\r\n\t\t\t}\r\n\t\t\tif (spikeArray.length < 3 && levels >= 3) {\r\n\t\t\t\tconst spike3 = new Sprite(BattleEffects.caltrop, {\r\n\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\tx: x + 50,\r\n\t\t\t\t\ty: y - 40,\r\n\t\t\t\t\tz: side.z,\r\n\t\t\t\t\tscale: .3,\r\n\t\t\t\t}, this);\r\n\t\t\t\tthis.$spritesFront[spriteIndex].append(spike3.$el!);\r\n\t\t\t\tspikeArray.push(spike3);\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase 'toxicspikes':\r\n\t\t\tlet tspikeArray = this.sideConditions[siden]['toxicspikes'];\r\n\t\t\tif (!tspikeArray) {\r\n\t\t\t\ttspikeArray = [];\r\n\t\t\t\tthis.sideConditions[siden]['toxicspikes'] = tspikeArray;\r\n\t\t\t}\r\n\t\t\tlet tspikeLevels = this.battle.sides[siden].sideConditions['toxicspikes'][1];\r\n\t\t\tif (tspikeArray.length < 1 && tspikeLevels >= 1) {\r\n\t\t\t\tconst tspike1 = new Sprite(BattleEffects.poisoncaltrop, {\r\n\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\tx: x + 5,\r\n\t\t\t\t\ty: y - 40,\r\n\t\t\t\t\tz: side.z,\r\n\t\t\t\t\tscale: 0.3,\r\n\t\t\t\t}, this);\r\n\t\t\t\tthis.$spritesFront[spriteIndex].append(tspike1.$el!);\r\n\t\t\t\ttspikeArray.push(tspike1);\r\n\t\t\t}\r\n\t\t\tif (tspikeArray.length < 2 && tspikeLevels >= 2) {\r\n\t\t\t\tconst tspike2 = new Sprite(BattleEffects.poisoncaltrop, {\r\n\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\tx: x - 15,\r\n\t\t\t\t\ty: y - 35,\r\n\t\t\t\t\tz: side.z,\r\n\t\t\t\t\tscale: .3,\r\n\t\t\t\t}, this);\r\n\t\t\t\tthis.$spritesFront[spriteIndex].append(tspike2.$el!);\r\n\t\t\t\ttspikeArray.push(tspike2);\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase 'stickyweb':\r\n\t\t\tconst web = new Sprite(BattleEffects.web, {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: x + 15,\r\n\t\t\t\ty: y - 35,\r\n\t\t\t\tz: side.z,\r\n\t\t\t\topacity: 0.4,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t}, this);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(web.$el!);\r\n\t\t\tthis.sideConditions[siden][id] = [web];\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\tremoveSideCondition(siden: number, id: ID) {\r\n\t\tif (!this.animating) return;\r\n\t\tif (this.sideConditions[siden][id]) {\r\n\t\t\tfor (const sprite of this.sideConditions[siden][id]) sprite.destroy();\r\n\t\t\tdelete this.sideConditions[siden][id];\r\n\t\t}\r\n\t}\r\n\tresetSideConditions() {\r\n\t\tfor (let siden = 0; siden < this.sideConditions.length; siden++) {\r\n\t\t\tfor (const id in this.sideConditions[siden]) {\r\n\t\t\t\tthis.removeSideCondition(siden, id as ID);\r\n\t\t\t}\r\n\t\t\tfor (const id in this.battle.sides[siden].sideConditions) {\r\n\t\t\t\tthis.addSideCondition(siden, id as ID, true);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\ttypeAnim(pokemon: Pokemon, types: string) {\r\n\t\tconst result = BattleLog.escapeHTML(types).split('/').map(type =>\r\n\t\t\t'<img src=\"' + Dex.resourcePrefix + 'sprites/types/' + type + '.png\" alt=\"' + type + '\" class=\"pixelated\" />'\r\n\t\t).join(' ');\r\n\t\tthis.resultAnim(pokemon, result, 'neutral');\r\n\t}\r\n\tresultAnim(pokemon: Pokemon, result: string, type: 'bad' | 'good' | 'neutral' | StatusName) {\r\n\t\tif (!this.animating) return;\r\n\t\tlet $effect = $('<div class=\"result ' + type + 'result\"><strong>' + result + '</strong></div>');\r\n\t\tthis.$fx.append($effect);\r\n\t\t$effect.delay(this.timeOffset).css({\r\n\t\t\tdisplay: 'block',\r\n\t\t\topacity: 0,\r\n\t\t\ttop: pokemon.sprite.top - 5,\r\n\t\t\tleft: pokemon.sprite.left - 75,\r\n\t\t}).animate({\r\n\t\t\topacity: 1,\r\n\t\t}, 1);\r\n\t\t$effect.animate({\r\n\t\t\topacity: 0,\r\n\t\t\ttop: pokemon.sprite.top - 65,\r\n\t\t}, 1000, 'swing');\r\n\t\tthis.wait(this.acceleration < 2 ? 350 : 250);\r\n\t\tpokemon.sprite.updateStatbar(pokemon);\r\n\t\tif (this.acceleration < 3) this.waitFor($effect);\r\n\t}\r\n\tabilityActivateAnim(pokemon: Pokemon, result: string) {\r\n\t\tif (!this.animating) return;\r\n\t\tthis.$fx.append('<div class=\"result abilityresult\"><strong>' + result + '</strong></div>');\r\n\t\tlet $effect = this.$fx.children().last();\r\n\t\t$effect.delay(this.timeOffset).css({\r\n\t\t\tdisplay: 'block',\r\n\t\t\topacity: 0,\r\n\t\t\ttop: pokemon.sprite.top + 15,\r\n\t\t\tleft: pokemon.sprite.left - 75,\r\n\t\t}).animate({\r\n\t\t\topacity: 1,\r\n\t\t}, 1);\r\n\t\t$effect.delay(800).animate({\r\n\t\t\topacity: 0,\r\n\t\t}, 400, 'swing');\r\n\t\tthis.wait(100);\r\n\t\tpokemon.sprite.updateStatbar(pokemon);\r\n\t\tif (this.acceleration < 3) this.waitFor($effect);\r\n\t}\r\n\tdamageAnim(pokemon: Pokemon, damage: number | string) {\r\n\t\tif (!this.animating) return;\r\n\t\tif (!pokemon.sprite.$statbar) return;\r\n\t\tpokemon.sprite.updateHPText(pokemon);\r\n\r\n\t\tlet $hp = pokemon.sprite.$statbar.find('div.hp');\r\n\t\tlet w = pokemon.hpWidth(150);\r\n\t\tlet hpcolor = BattleScene.getHPColor(pokemon);\r\n\t\tlet callback;\r\n\t\tif (hpcolor === 'y') {\r\n\t\t\tcallback = () => { $hp.addClass('hp-yellow'); };\r\n\t\t}\r\n\t\tif (hpcolor === 'r') {\r\n\t\t\tcallback = () => { $hp.addClass('hp-yellow hp-red'); };\r\n\t\t}\r\n\r\n\t\tif (damage === '100%' && pokemon.hp > 0) damage = '99%';\r\n\t\tthis.resultAnim(pokemon, this.battle.hardcoreMode ? 'Damage' : '&minus;' + damage, 'bad');\r\n\r\n\t\t$hp.animate({\r\n\t\t\twidth: w,\r\n\t\t\t'border-right-width': w ? 1 : 0,\r\n\t\t}, 350, callback);\r\n\t}\r\n\thealAnim(pokemon: Pokemon, damage: number | string) {\r\n\t\tif (!this.animating) return;\r\n\t\tif (!pokemon.sprite.$statbar) return;\r\n\t\tpokemon.sprite.updateHPText(pokemon);\r\n\r\n\t\tlet $hp = pokemon.sprite.$statbar.find('div.hp');\r\n\t\tlet w = pokemon.hpWidth(150);\r\n\t\tlet hpcolor = BattleScene.getHPColor(pokemon);\r\n\t\tlet callback;\r\n\t\tif (hpcolor === 'g') {\r\n\t\t\tcallback = () => { $hp.removeClass('hp-yellow hp-red'); };\r\n\t\t}\r\n\t\tif (hpcolor === 'y') {\r\n\t\t\tcallback = () => { $hp.removeClass('hp-red'); };\r\n\t\t}\r\n\r\n\t\tthis.resultAnim(pokemon, this.battle.hardcoreMode ? 'Heal' : '+' + damage, 'good');\r\n\r\n\t\t$hp.animate({\r\n\t\t\twidth: w,\r\n\t\t\t'border-right-width': w ? 1 : 0,\r\n\t\t}, 350, callback);\r\n\t}\r\n\r\n\t// Sprite methods\r\n\t/////////////////////////////////////////////////////////////////////\r\n\r\n\tremoveEffect(pokemon: Pokemon, id: ID, instant?: boolean) {\r\n\t\treturn pokemon.sprite.removeEffect(id, instant);\r\n\t}\r\n\taddEffect(pokemon: Pokemon, id: ID, instant?: boolean) {\r\n\t\treturn pokemon.sprite.addEffect(id, instant);\r\n\t}\r\n\tanimSummon(pokemon: Pokemon, slot: number, instant?: boolean) {\r\n\t\treturn pokemon.sprite.animSummon(pokemon, slot, instant);\r\n\t}\r\n\tanimUnsummon(pokemon: Pokemon, instant?: boolean) {\r\n\t\treturn pokemon.sprite.animUnsummon(pokemon, instant);\r\n\t}\r\n\tanimDragIn(pokemon: Pokemon, slot: number) {\r\n\t\treturn pokemon.sprite.animDragIn(pokemon, slot);\r\n\t}\r\n\tanimDragOut(pokemon: Pokemon) {\r\n\t\treturn pokemon.sprite.animDragOut(pokemon);\r\n\t}\r\n\tresetStatbar(pokemon: Pokemon, startHidden?: boolean) {\r\n\t\treturn pokemon.sprite.resetStatbar(pokemon, startHidden);\r\n\t}\r\n\tupdateStatbar(pokemon: Pokemon, updatePrevhp?: boolean, updateHp?: boolean) {\r\n\t\treturn pokemon.sprite.updateStatbar(pokemon, updatePrevhp, updateHp);\r\n\t}\r\n\tupdateStatbarIfExists(pokemon: Pokemon, updatePrevhp?: boolean, updateHp?: boolean) {\r\n\t\treturn pokemon.sprite.updateStatbarIfExists(pokemon, updatePrevhp, updateHp);\r\n\t}\r\n\tanimTransform(pokemon: Pokemon, isCustomAnim?: boolean, isPermanent?: boolean) {\r\n\t\treturn pokemon.sprite.animTransform(pokemon, isCustomAnim, isPermanent);\r\n\t}\r\n\tclearEffects(pokemon: Pokemon) {\r\n\t\treturn pokemon.sprite.clearEffects();\r\n\t}\r\n\tremoveTransform(pokemon: Pokemon) {\r\n\t\treturn pokemon.sprite.removeTransform();\r\n\t}\r\n\tanimFaint(pokemon: Pokemon) {\r\n\t\treturn pokemon.sprite.animFaint(pokemon);\r\n\t}\r\n\tanimReset(pokemon: Pokemon) {\r\n\t\treturn pokemon.sprite.animReset();\r\n\t}\r\n\tanim(pokemon: Pokemon, end: ScenePos, transition?: string) {\r\n\t\treturn pokemon.sprite.anim(end, transition);\r\n\t}\r\n\tbeforeMove(pokemon: Pokemon) {\r\n\t\treturn pokemon.sprite.beforeMove();\r\n\t}\r\n\tafterMove(pokemon: Pokemon) {\r\n\t\treturn pokemon.sprite.afterMove();\r\n\t}\r\n\r\n\t// Misc\r\n\t/////////////////////////////////////////////////////////////////////\r\n\r\n\tsetFrameHTML(html: any) {\r\n\t\tthis.customControls = true;\r\n\t\tthis.$frame.html(html);\r\n\t}\r\n\tsetControlsHTML(html: any) {\r\n\t\tthis.customControls = true;\r\n\t\tlet $controls = this.$frame.parent().children('.battle-controls');\r\n\t\t$controls.html(html);\r\n\t}\r\n\r\n\tpreloadImage(url: string) {\r\n\t\tlet token = url.replace(/\\.(gif|png)$/, '').replace(/\\//g, '-');\r\n\t\tif (this.preloadCache[token]) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.preloadNeeded++;\r\n\t\tthis.preloadCache[token] = new Image();\r\n\t\tthis.preloadCache[token].onload = () => {\r\n\t\t\tthis.preloadDone++;\r\n\t\t};\r\n\t\tthis.preloadCache[token].src = url;\r\n\t}\r\n\tpreloadEffects() {\r\n\t\tfor (let i in BattleEffects) {\r\n\t\t\tif (i === 'alpha' || i === 'omega') continue;\r\n\t\t\tconst url = BattleEffects[i].url;\r\n\t\t\tif (url) this.preloadImage(url);\r\n\t\t}\r\n\t\tthis.preloadImage(Dex.resourcePrefix + 'sprites/ani/substitute.gif');\r\n\t\tthis.preloadImage(Dex.resourcePrefix + 'sprites/ani-back/substitute.gif');\r\n\t}\r\n\trollBgm() {\r\n\t\tthis.setBgm(1 + this.numericId % 15);\r\n\t}\r\n\tsetBgm(bgmNum: number) {\r\n\t\tif (this.bgmNum === bgmNum) return;\r\n\t\tthis.bgmNum = bgmNum;\r\n\r\n\t\tswitch (bgmNum) {\r\n\t\tcase -1:\r\n\t\t\tthis.bgm = BattleSound.loadBgm('audio/bw2-homika-dogars.mp3', 1661, 68131, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase -2:\r\n\t\t\tthis.bgm = BattleSound.loadBgm('audio/xd-miror-b.mp3', 9000, 57815, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase -3:\r\n\t\t\tthis.bgm = BattleSound.loadBgm('audio/colosseum-miror-b.mp3', 896, 47462, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 1:\r\n\t\t\tthis.bgm = BattleSound.loadBgm('audio/dpp-trainer.mp3', 13440, 96959, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 2:\r\n\t\t\tthis.bgm = BattleSound.loadBgm('audio/dpp-rival.mp3', 13888, 66352, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 3:\r\n\t\t\tthis.bgm = BattleSound.loadBgm('audio/hgss-johto-trainer.mp3', 23731, 125086, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 4:\r\n\t\t\tthis.bgm = BattleSound.loadBgm('audio/hgss-kanto-trainer.mp3', 13003, 94656, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 5:\r\n\t\t\tthis.bgm = BattleSound.loadBgm('audio/bw-trainer.mp3', 14629, 110109, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 6:\r\n\t\t\tthis.bgm = BattleSound.loadBgm('audio/bw-rival.mp3', 19180, 57373, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 7:\r\n\t\t\tthis.bgm = BattleSound.loadBgm('audio/bw-subway-trainer.mp3', 15503, 110984, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 8:\r\n\t\t\tthis.bgm = BattleSound.loadBgm('audio/bw2-kanto-gym-leader.mp3', 14626, 58986, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 9:\r\n\t\t\tthis.bgm = BattleSound.loadBgm('audio/bw2-rival.mp3', 7152, 68708, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 10:\r\n\t\t\tthis.bgm = BattleSound.loadBgm('audio/xy-trainer.mp3', 7802, 82469, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 11:\r\n\t\t\tthis.bgm = BattleSound.loadBgm('audio/xy-rival.mp3', 7802, 58634, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 12:\r\n\t\t\tthis.bgm = BattleSound.loadBgm('audio/oras-trainer.mp3', 13579, 91548, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 13:\r\n\t\t\tthis.bgm = BattleSound.loadBgm('audio/oras-rival.mp3', 14303, 69149, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 14:\r\n\t\t\tthis.bgm = BattleSound.loadBgm('audio/sm-trainer.mp3', 8323, 89230, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase -101:\r\n\t\t\tthis.bgm = BattleSound.loadBgm('audio/spl-elite4.mp3', 3962, 152509, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 15:\r\n\t\tdefault:\r\n\t\t\tthis.bgm = BattleSound.loadBgm('audio/sm-rival.mp3', 11389, 62158, this.bgm);\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tthis.updateBgm();\r\n\t}\r\n\tupdateBgm() {\r\n\t\t/**\r\n\t\t * - not playing in non-battle RoomGames before `|start` (turn -1)\r\n\t\t * - not playing at team preview in replays (paused)\r\n\t\t * - playing at team preview in games (turn 0)\r\n\t\t * - playing during the game (turn 1+)\r\n\t\t * - not playing while paused\r\n\t\t * - playing while waiting for players to choose moves (atQueueEnd && !ended)\r\n\t\t * - not playing after the game has ended\r\n\t\t */\r\n\t\tconst nowPlaying = (\r\n\t\t\tthis.battle.turn >= 0 && !this.battle.ended && !this.battle.paused\r\n\t\t);\r\n\t\tif (nowPlaying) {\r\n\t\t\tif (!this.bgm) this.rollBgm();\r\n\t\t\tthis.bgm!.resume();\r\n\t\t} else if (this.bgm) {\r\n\t\t\tthis.bgm.pause();\r\n\t\t}\r\n\t}\r\n\tresetBgm() {\r\n\t\tif (this.bgm) this.bgm.stop();\r\n\t}\r\n\tdestroy() {\r\n\t\tthis.log.destroy();\r\n\t\tif (this.$frame) {\r\n\t\t\tthis.$frame.empty();\r\n\t\t\t// listeners set by BattleTooltips\r\n\t\t\tthis.$frame.off();\r\n\t\t}\r\n\t\tif (this.bgm) {\r\n\t\t\tthis.bgm.destroy();\r\n\t\t\tthis.bgm = null;\r\n\t\t}\r\n\t\tthis.battle = null!;\r\n\t}\r\n\tstatic getHPColor(pokemon: {hp: number, maxhp: number}) {\r\n\t\tlet ratio = pokemon.hp / pokemon.maxhp;\r\n\t\tif (ratio > 0.5) return 'g';\r\n\t\tif (ratio > 0.2) return 'y';\r\n\t\treturn 'r';\r\n\t}\r\n}\r\n\r\nexport interface ScenePos {\r\n\t/** - left, + right */\r\n\tx?: number;\r\n\t/** - down, + up */\r\n\ty?: number;\r\n\t/** - player, + opponent */\r\n\tz?: number;\r\n\tscale?: number;\r\n\txscale?: number;\r\n\tyscale?: number;\r\n\topacity?: number;\r\n\ttime?: number;\r\n\tdisplay?: string;\r\n}\r\ninterface InitScenePos {\r\n\tx: number;\r\n\ty: number;\r\n\tz: number;\r\n\tscale?: number;\r\n\txscale?: number;\r\n\tyscale?: number;\r\n\topacity?: number;\r\n\ttime?: number;\r\n\tdisplay?: string;\r\n}\r\n\r\nexport class Sprite {\r\n\tscene: BattleScene;\r\n\t$el: JQuery = null!;\r\n\tsp: SpriteData;\r\n\tx: number;\r\n\ty: number;\r\n\tz: number;\r\n\tconstructor(spriteData: SpriteData | null, pos: InitScenePos, scene: BattleScene) {\r\n\t\tthis.scene = scene;\r\n\t\tlet sp = null;\r\n\t\tif (spriteData) {\r\n\t\t\tsp = spriteData;\r\n\t\t\tlet rawHTML = sp.rawHTML ||\r\n\t\t\t\t'<img src=\"' + sp.url + '\" style=\"display:none;position:absolute\"' + (sp.pixelated ? ' class=\"pixelated\"' : '') + ' />';\r\n\t\t\tthis.$el = $(rawHTML);\r\n\t\t} else {\r\n\t\t\tsp = {\r\n\t\t\t\tw: 0,\r\n\t\t\t\th: 0,\r\n\t\t\t\turl: '',\r\n\t\t\t};\r\n\t\t}\r\n\t\tthis.sp = sp;\r\n\r\n\t\tthis.x = pos.x;\r\n\t\tthis.y = pos.y;\r\n\t\tthis.z = pos.z;\r\n\t\tif (pos.opacity !== 0 && spriteData) this.$el!.css(scene.pos(pos, sp));\r\n\r\n\t\tif (!spriteData) {\r\n\t\t\tthis.delay = function () { return this; };\r\n\t\t\tthis.anim = function () { return this; };\r\n\t\t}\r\n\t}\r\n\r\n\tdestroy() {\r\n\t\tif (this.$el) this.$el.remove();\r\n\t\tthis.$el = null!;\r\n\t\tthis.scene = null!;\r\n\t}\r\n\tdelay(time: number) {\r\n\t\tthis.$el!.delay(time);\r\n\t\treturn this;\r\n\t}\r\n\tanim(end: ScenePos, transition?: string) {\r\n\t\tend = {\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.z,\r\n\t\t\tscale: 1,\r\n\t\t\topacity: 1,\r\n\t\t\ttime: 500,\r\n\t\t\t...end,\r\n\t\t};\r\n\t\tif (end.time === 0) {\r\n\t\t\tthis.$el!.css(this.scene.pos(end, this.sp));\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\tthis.$el!.animate(this.scene.posT(end, this.sp, transition, this), end.time!);\r\n\t\treturn this;\r\n\t}\r\n}\r\n\r\nexport class PokemonSprite extends Sprite {\r\n\t// HTML strings are constructed from this table and stored back in it to cache them\r\n\tprotected static statusTable: {[id: string]: [string, 'good' | 'bad' | 'neutral'] | null | string} = {\r\n\t\tformechange: null,\r\n\t\ttypechange: null,\r\n\t\ttypeadd: null,\r\n\t\tdynamax: ['Dynamaxed', 'good'],\r\n\t\ttrapped: null, // linked volatiles are not implemented yet\r\n\t\tthroatchop: ['Throat Chop', 'bad'],\r\n\t\tconfusion: ['Confused', 'bad'],\r\n\t\thealblock: ['Heal Block', 'bad'],\r\n\t\tyawn: ['Drowsy', 'bad'],\r\n\t\tflashfire: ['Flash Fire', 'good'],\r\n\t\timprison: ['Imprisoning foe', 'good'],\r\n\t\tautotomize: ['Lightened', 'neutral'],\r\n\t\tmiracleeye: ['Miracle Eye', 'bad'],\r\n\t\tforesight: ['Foresight', 'bad'],\r\n\t\ttelekinesis: ['Telekinesis', 'neutral'],\r\n\t\ttransform: ['Transformed', 'neutral'],\r\n\t\tpowertrick: ['Power Trick', 'neutral'],\r\n\t\tcurse: ['Curse', 'bad'],\r\n\t\tnightmare: ['Nightmare', 'bad'],\r\n\t\tattract: ['Infatuation', 'bad'],\r\n\t\ttorment: ['Torment', 'bad'],\r\n\t\ttaunt: ['Taunt', 'bad'],\r\n\t\tdisable: ['Disable', 'bad'],\r\n\t\tembargo: ['Embargo', 'bad'],\r\n\t\tingrain: ['Ingrain', 'good'],\r\n\t\taquaring: ['Aqua Ring', 'good'],\r\n\t\tstockpile1: ['Stockpile', 'good'],\r\n\t\tstockpile2: ['Stockpile&times;2', 'good'],\r\n\t\tstockpile3: ['Stockpile&times;3', 'good'],\r\n\t\tperish0: ['Perish now', 'bad'],\r\n\t\tperish1: ['Perish next turn', 'bad'],\r\n\t\tperish2: ['Perish in 2', 'bad'],\r\n\t\tperish3: ['Perish in 3', 'bad'],\r\n\t\tairballoon: ['Balloon', 'good'],\r\n\t\tleechseed: ['Leech Seed', 'bad'],\r\n\t\tencore: ['Encore', 'bad'],\r\n\t\tmustrecharge: ['Must recharge', 'bad'],\r\n\t\tbide: ['Bide', 'good'],\r\n\t\tmagnetrise: ['Magnet Rise', 'good'],\r\n\t\tsmackdown: ['Smack Down', 'bad'],\r\n\t\tfocusenergy: ['Critical Hit Boost', 'good'],\r\n\t\tslowstart: ['Slow Start', 'bad'],\r\n\t\tprotosynthesisatk: ['Protosynthesis: Atk', 'good'],\r\n\t\tprotosynthesisdef: ['Protosynthesis: Def', 'good'],\r\n\t\tprotosynthesisspa: ['Protosynthesis: SpA', 'good'],\r\n\t\tprotosynthesisspd: ['Protosynthesis: SpD', 'good'],\r\n\t\tprotosynthesisspe: ['Protosynthesis: Spe', 'good'],\r\n\t\tquarkdriveatk: ['Quark Drive: Atk', 'good'],\r\n\t\tquarkdrivedef: ['Quark Drive: Def', 'good'],\r\n\t\tquarkdrivespa: ['Quark Drive: SpA', 'good'],\r\n\t\tquarkdrivespd: ['Quark Drive: SpD', 'good'],\r\n\t\tquarkdrivespe: ['Quark Drive: Spe', 'good'],\r\n\t\tfallen1: ['Fallen: 1', 'good'],\r\n\t\tfallen2: ['Fallen: 2', 'good'],\r\n\t\tfallen3: ['Fallen: 3', 'good'],\r\n\t\tfallen4: ['Fallen: 4', 'good'],\r\n\t\tfallen5: ['Fallen: 5', 'good'],\r\n\t\tnoretreat: ['No Retreat', 'bad'],\r\n\t\toctolock: ['Octolock', 'bad'],\r\n\t\ttarshot: ['Tar Shot', 'bad'],\r\n\t\tsaltcure: ['Salt Cure', 'bad'],\r\n\t\tsyrupbomb: ['Syrupy', 'bad'],\r\n\t\tdoomdesire: null,\r\n\t\tfuturesight: null,\r\n\t\tmimic: ['Mimic', 'good'],\r\n\t\twatersport: ['Water Sport', 'good'],\r\n\t\tmudsport: ['Mud Sport', 'good'],\r\n\t\tsubstitute: null,\r\n\t\t// sub graphics are handled elsewhere, see Battle.Sprite.animSub()\r\n\t\tuproar: ['Uproar', 'neutral'],\r\n\t\trage: ['Rage', 'neutral'],\r\n\t\troost: ['Landed', 'neutral'],\r\n\t\tprotect: ['Protect', 'good'],\r\n\t\tquickguard: ['Quick Guard', 'good'],\r\n\t\twideguard: ['Wide Guard', 'good'],\r\n\t\tcraftyshield: ['Crafty Shield', 'good'],\r\n\t\tmatblock: ['Mat Block', 'good'],\r\n\t\tmaxguard: ['Max Guard', 'good'],\r\n\t\thelpinghand: ['Helping Hand', 'good'],\r\n\t\tmagiccoat: ['Magic Coat', 'good'],\r\n\t\tdestinybond: ['Destiny Bond', 'good'],\r\n\t\tsnatch: ['Snatch', 'good'],\r\n\t\tgrudge: ['Grudge', 'good'],\r\n\t\tcharge: ['Charge', 'good'],\r\n\t\tendure: ['Endure', 'good'],\r\n\t\tfocuspunch: ['Focusing', 'neutral'],\r\n\t\tshelltrap: ['Trap set', 'neutral'],\r\n\t\tpowder: ['Powder', 'bad'],\r\n\t\telectrify: ['Electrify', 'bad'],\r\n\t\tglaiverush: ['Glaive Rush', 'bad'],\r\n\t\tragepowder: ['Rage Powder', 'good'],\r\n\t\tfollowme: ['Follow Me', 'good'],\r\n\t\tinstruct: ['Instruct', 'neutral'],\r\n\t\tbeakblast: ['Beak Blast', 'neutral'],\r\n\t\tlaserfocus: ['Laser Focus', 'good'],\r\n\t\tspotlight: ['Spotlight', 'neutral'],\r\n\t\titemremoved: null,\r\n\t\t// partial trapping\r\n\t\tbind: ['Bind', 'bad'],\r\n\t\tclamp: ['Clamp', 'bad'],\r\n\t\tfirespin: ['Fire Spin', 'bad'],\r\n\t\tinfestation: ['Infestation', 'bad'],\r\n\t\tmagmastorm: ['Magma Storm', 'bad'],\r\n\t\tsandtomb: ['Sand Tomb', 'bad'],\r\n\t\tsnaptrap: ['Snap Trap', 'bad'],\r\n\t\tthundercage: ['Thunder Cage', 'bad'],\r\n\t\twhirlpool: ['Whirlpool', 'bad'],\r\n\t\twrap: ['Wrap', 'bad'],\r\n\t\t// Gen 1-2\r\n\t\tmist: ['Mist', 'good'],\r\n\t\t// Gen 1\r\n\t\tlightscreen: ['Light Screen', 'good'],\r\n\t\treflect: ['Reflect', 'good'],\r\n\t\t// swse\r\n\t\tcaffeinecrash: ['Caffeine Crash', 'bad'],\r\n\t};\r\n\tforme = '';\r\n\tcryurl: string | undefined = undefined;\r\n\r\n\tsubsp: SpriteData | null = null;\r\n\t$sub: JQuery | null = null;\r\n\tisSubActive = false;\r\n\r\n\t$statbar: JQuery | null = null;\r\n\tisFrontSprite: boolean;\r\n\tisMissedPokemon = false;\r\n\t/**\r\n\t * If the pokemon is transformed, sprite.sp will be the transformed\r\n\t * SpriteData and sprite.oldsp will hold the original form's SpriteData\r\n\t */\r\n\toldsp: SpriteData | null = null;\r\n\r\n\tstatbarLeft = 0;\r\n\tstatbarTop = 0;\r\n\tleft = 0;\r\n\ttop = 0;\r\n\r\n\teffects: {[id: string]: Sprite[]} = {};\r\n\r\n\tconstructor(spriteData: SpriteData | null, pos: InitScenePos, scene: BattleScene, isFrontSprite: boolean) {\r\n\t\tsuper(spriteData, pos, scene);\r\n\t\tthis.cryurl = this.sp.cryurl;\r\n\t\tthis.isFrontSprite = isFrontSprite;\r\n\t}\r\n\tdestroy() {\r\n\t\tif (this.$el) this.$el.remove();\r\n\t\tthis.$el = null!;\r\n\t\tif (this.$statbar) this.$statbar.remove();\r\n\t\tthis.$statbar = null;\r\n\t\tif (this.$sub) this.$sub.remove();\r\n\t\tthis.$sub = null;\r\n\t\tthis.scene = null!;\r\n\t}\r\n\r\n\tdelay(time: number) {\r\n\t\tthis.$el.delay(time);\r\n\t\tif (this.$sub) this.$sub.delay(time);\r\n\t\treturn this;\r\n\t}\r\n\tanim(end: ScenePos, transition?: string) {\r\n\t\tend = {\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.z,\r\n\t\t\tscale: 1,\r\n\t\t\topacity: 1,\r\n\t\t\ttime: 500,\r\n\t\t\t...end,\r\n\t\t};\r\n\t\tconst [$el, sp] = (this.isSubActive ? [this.$sub!, this.subsp!] : [this.$el, this.sp]);\r\n\t\t$el.animate(this.scene.posT(end, sp, transition, this), end.time!);\r\n\t\treturn this;\r\n\t}\r\n\r\n\tbehindx(offset: number) {\r\n\t\treturn this.x + (this.isFrontSprite ? 1 : -1) * offset;\r\n\t}\r\n\tbehindy(offset: number) {\r\n\t\treturn this.y + (this.isFrontSprite ? -1 : 1) * offset;\r\n\t}\r\n\tleftof(offset: number) {\r\n\t\treturn this.x + (this.isFrontSprite ? 1 : -1) * offset;\r\n\t}\r\n\tbehind(offset: number) {\r\n\t\treturn this.z + (this.isFrontSprite ? 1 : -1) * offset;\r\n\t}\r\n\r\n\tremoveTransform() {\r\n\t\tif (!this.scene.animating) return;\r\n\t\tif (!this.oldsp) return;\r\n\t\tlet sp = this.oldsp;\r\n\t\tthis.cryurl = sp.cryurl;\r\n\t\tthis.sp = sp;\r\n\t\tthis.oldsp = null;\r\n\r\n\t\tconst $el = this.isSubActive ? this.$sub! : this.$el;\r\n\t\t$el.attr('src', sp.url!);\r\n\t\t$el.css(this.scene.pos({\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y,\r\n\t\t\tz: (this.isSubActive ? this.behind(30) : this.z),\r\n\t\t\topacity: (this.$sub ? .3 : 1),\r\n\t\t}, sp));\r\n\t}\r\n\tanimSub(instant?: boolean, noAnim?: boolean) {\r\n\t\tif (!this.scene.animating) return;\r\n\t\tif (this.$sub) return;\r\n\t\tconst subsp = Dex.getSpriteData('substitute', this.isFrontSprite, {\r\n\t\t\tgen: this.scene.gen,\r\n\t\t\tmod: this.scene.mod,\r\n\t\t});\r\n\t\tthis.subsp = subsp;\r\n\t\tthis.$sub = $('<img src=\"' + subsp.url + '\" style=\"display:block;opacity:0;position:absolute\"' + (subsp.pixelated ? ' class=\"pixelated\"' : '') + ' />');\r\n\t\tthis.scene.$spritesFront[+this.isFrontSprite].append(this.$sub);\r\n\t\tthis.isSubActive = true;\r\n\t\tif (instant) {\r\n\t\t\tif (!noAnim) this.animReset();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.$el.animate(this.scene.pos({\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.behind(30),\r\n\t\t\topacity: 0.3,\r\n\t\t}, this.sp), 500);\r\n\t\tthis.$sub.css(this.scene.pos({\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y + 50,\r\n\t\t\tz: this.z,\r\n\t\t\topacity: 0,\r\n\t\t}, subsp));\r\n\t\tthis.$sub.animate(this.scene.pos({\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.z,\r\n\t\t}, subsp), 500);\r\n\t\tthis.scene.waitFor(this.$sub);\r\n\t}\r\n\tanimSubFade(instant?: boolean) {\r\n\t\tif (!this.$sub || !this.scene.animating) return;\r\n\t\tthis.isSubActive = false;\r\n\t\tif (instant) {\r\n\t\t\tthis.$sub.remove();\r\n\t\t\tthis.$sub = null;\r\n\t\t\tthis.animReset();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.scene.timeOffset) {\r\n\t\t\tthis.$el.delay(this.scene.timeOffset);\r\n\t\t\tthis.$sub.delay(this.scene.timeOffset);\r\n\t\t}\r\n\t\tthis.$sub.animate(this.scene.pos({\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y - 50,\r\n\t\t\tz: this.z,\r\n\t\t\topacity: 0,\r\n\t\t}, this.subsp!), 500);\r\n\r\n\t\tthis.$sub = null;\r\n\t\tthis.anim({time: 500});\r\n\t\tif (this.scene.animating) this.scene.waitFor(this.$el);\r\n\t}\r\n\tbeforeMove() {\r\n\t\tif (!this.scene.animating) return false;\r\n\t\tif (!this.isSubActive) return false;\r\n\t\tthis.isSubActive = false;\r\n\t\tthis.anim({time: 300});\r\n\t\tthis.$sub!.animate(this.scene.pos({\r\n\t\t\tx: this.leftof(-50),\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.z,\r\n\t\t\topacity: 0.5,\r\n\t\t}, this.subsp!), 300);\r\n\t\tfor (const side of this.scene.battle.sides) {\r\n\t\t\tfor (const active of side.active) {\r\n\t\t\t\tif (active && active.sprite !== this) {\r\n\t\t\t\t\tactive.sprite.delay(300);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.scene.wait(300);\r\n\t\tthis.scene.waitFor(this.$el);\r\n\r\n\t\treturn true;\r\n\t}\r\n\tafterMove() {\r\n\t\tif (!this.scene.animating) return false;\r\n\t\tif (!this.$sub || this.isSubActive) return false;\r\n\t\tthis.isSubActive = true;\r\n\t\tthis.$sub.delay(300);\r\n\t\tthis.$el.add(this.$sub).promise().done(() => {\r\n\t\t\tif (!this.$sub || !this.$el) return;\r\n\t\t\tthis.$el.animate(this.scene.pos({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tz: this.behind(30),\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t}, this.sp), 300);\r\n\t\t\tthis.anim({time: 300});\r\n\t\t});\r\n\t\treturn false;\r\n\t}\r\n\tremoveSub() {\r\n\t\tif (!this.$sub) return;\r\n\t\tthis.isSubActive = false;\r\n\t\tif (!this.scene.animating) {\r\n\t\t\tthis.$sub.remove();\r\n\t\t} else {\r\n\t\t\tconst $sub = this.$sub;\r\n\t\t\t$sub.animate({\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, () => {\r\n\t\t\t\t$sub.remove();\r\n\t\t\t});\r\n\t\t}\r\n\t\tthis.$sub = null;\r\n\t}\r\n\treset(pokemon: Pokemon) {\r\n\t\tthis.clearEffects();\r\n\r\n\t\tif (pokemon.volatiles.formechange || pokemon.volatiles.dynamax || pokemon.volatiles.terastallize) {\r\n\t\t\tif (!this.oldsp) this.oldsp = this.sp;\r\n\t\t\tthis.sp = Dex.getSpriteData(pokemon, this.isFrontSprite, {\r\n\t\t\t\tgen: this.scene.gen,\r\n\t\t\t\tmod: this.scene.mod,\r\n\t\t\t});\r\n\t\t} else if (this.oldsp) {\r\n\t\t\tthis.sp = this.oldsp;\r\n\t\t\tthis.oldsp = null;\r\n\t\t}\r\n\r\n\t\t// I can rant for ages about how jQuery sucks, necessitating this function\r\n\t\t// The short version is: after calling elem.finish() on an animating\r\n\t\t// element, there appear to be a grand total of zero ways to hide it\r\n\t\t// afterwards. I've tried `elem.css('display', 'none')`, `elem.hide()`,\r\n\t\t// `elem.hide(1)`, `elem.hide(1000)`, `elem.css('opacity', 0)`,\r\n\t\t// `elem.animate({opacity: 0}, 1000)`.\r\n\t\t// They literally all do nothing, and the element retains\r\n\t\t// a style attribute containing `display: inline-block` and `opacity: 1`\r\n\t\t// Only forcibly removing the element from the DOM actually makes it\r\n\t\t// disappear, so that's what we do.\r\n\t\tif (this.$el) {\r\n\t\t\tthis.$el.stop(true, false);\r\n\t\t\tthis.$el.remove();\r\n\t\t\tconst $newEl = $('<img src=\"' + this.sp.url + '\" style=\"display:none;position:absolute\"' + (this.sp.pixelated ? ' class=\"pixelated\"' : '') + ' />');\r\n\t\t\tthis.$el = $newEl;\r\n\t\t}\r\n\r\n\t\tif (!pokemon.isActive()) {\r\n\t\t\tif (this.$statbar) {\r\n\t\t\t\tthis.$statbar.remove();\r\n\t\t\t\tthis.$statbar = null;\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (this.$el) this.scene.$sprites[+this.isFrontSprite].append(this.$el);\r\n\t\tthis.recalculatePos(pokemon.slot);\r\n\t\tthis.resetStatbar(pokemon);\r\n\t\tthis.$el.css(this.scene.pos({\r\n\t\t\tdisplay: 'block',\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.z,\r\n\t\t}, this.sp));\r\n\r\n\t\tfor (const id in pokemon.volatiles) this.addEffect(id as ID, true);\r\n\t\tfor (const id in pokemon.turnstatuses) this.addEffect(id as ID, true);\r\n\t\tfor (const id in pokemon.movestatuses) this.addEffect(id as ID, true);\r\n\t}\r\n\tanimReset() {\r\n\t\tif (!this.scene.animating) return;\r\n\t\tif (this.$sub) {\r\n\t\t\tthis.isSubActive = true;\r\n\t\t\tthis.$el.stop(true, false);\r\n\t\t\tthis.$sub.stop(true, false);\r\n\t\t\tthis.$el.css(this.scene.pos({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tz: this.behind(30),\r\n\t\t\t\topacity: .3,\r\n\t\t\t}, this.sp));\r\n\t\t\tthis.$sub.css(this.scene.pos({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tz: this.z,\r\n\t\t\t}, this.subsp!));\r\n\t\t} else {\r\n\t\t\tthis.$el.stop(true, false);\r\n\t\t\tthis.$el.css(this.scene.pos({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tz: this.z,\r\n\t\t\t}, this.sp));\r\n\t\t}\r\n\t}\r\n\trecalculatePos(slot: number) {\r\n\t\tlet moreActive = this.scene.activeCount - 1;\r\n\t\tlet statbarOffset = 0;\r\n\t\tconst isFFA = this.scene.battle.gameType === 'freeforall';\r\n\t\tif (isFFA) {\r\n\t\t\t// create a gap between Pokemon on the same \"side\" as a distinction between FFA and Multi battles\r\n\t\t\tmoreActive++;\r\n\t\t\tif (slot) slot++;\r\n\t\t}\r\n\t\tif (this.scene.gen <= 4 && moreActive) {\r\n\t\t\tthis.x = (slot - 0.52) * (this.isFrontSprite ? 1 : -1) * -55;\r\n\t\t\tthis.y = (this.isFrontSprite ? 1 : -1) + 1;\r\n\t\t\tif (this.isFrontSprite) statbarOffset = 30 * slot;\r\n\t\t\tif (!this.isFrontSprite) statbarOffset = -28 * slot;\r\n\t\t} else {\r\n\t\t\tswitch (moreActive) {\r\n\t\t\tcase 0:\r\n\t\t\t\tthis.x = 0;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1:\r\n\t\t\t\tif (this.sp.pixelated) {\r\n\t\t\t\t\tthis.x = (slot * -100 + 18) * (this.isFrontSprite ? 1 : -1);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.x = (slot * -75 + 18) * (this.isFrontSprite ? 1 : -1);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tthis.x = (slot * -70 + 20) * (this.isFrontSprite ? 1 : -1);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tthis.y = this.isFrontSprite ? slot * 7 : slot * -10;\r\n\t\t\tif (this.isFrontSprite) statbarOffset = 17 * slot;\r\n\t\t\tif (this.isFrontSprite && !moreActive && this.sp.pixelated) statbarOffset = 15;\r\n\t\t\tif (!this.isFrontSprite) statbarOffset = -7 * slot;\r\n\t\t\tif (this.isFrontSprite && moreActive === 2) statbarOffset = 14 * slot - 10;\r\n\t\t}\r\n\t\tif (this.scene.gen <= 2) {\r\n\t\t\tstatbarOffset += this.isFrontSprite ? 20 : 1;\r\n\t\t} else if (this.scene.gen <= 3) {\r\n\t\t\tstatbarOffset += this.isFrontSprite ? 30 : 5;\r\n\t\t} else if (this.scene.gen !== 5) {\r\n\t\t\tstatbarOffset += this.isFrontSprite ? 30 : 20;\r\n\t\t}\r\n\r\n\t\tlet pos = this.scene.pos({\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.z,\r\n\t\t}, {\r\n\t\t\tw: 0,\r\n\t\t\th: 96,\r\n\t\t});\r\n\t\tpos.top += 40;\r\n\r\n\t\tthis.left = pos.left;\r\n\t\tthis.top = pos.top;\r\n\t\tthis.statbarLeft = pos.left - 80;\r\n\t\tthis.statbarTop = pos.top - 73 - statbarOffset;\r\n\t\tif (this.statbarTop < -4) this.statbarTop = -4;\r\n\r\n\t\tif (moreActive) {\r\n\t\t\t// make sure element is in the right z-order\r\n\t\t\tif (!!slot === this.isFrontSprite) {\r\n\t\t\t\tthis.$el.prependTo(this.$el.parent());\r\n\t\t\t} else {\r\n\t\t\t\tthis.$el.appendTo(this.$el.parent());\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tanimSummon(pokemon: Pokemon, slot: number, instant?: boolean) {\r\n\t\tif (!this.scene.animating) return;\r\n\t\tthis.scene.$sprites[+this.isFrontSprite].append(this.$el);\r\n\t\tthis.recalculatePos(slot);\r\n\r\n\t\t// 'z-index': (this.isFrontSprite ? 4-slot : 1+slot),\r\n\t\tif (instant) {\r\n\t\t\tthis.$el.css('display', 'block');\r\n\t\t\tthis.animReset();\r\n\t\t\tthis.resetStatbar(pokemon);\r\n\t\t\tif (pokemon.hasVolatile('substitute' as ID)) this.animSub(true);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.cryurl) {\r\n\t\t\tBattleSound.playEffect(this.cryurl);\r\n\t\t}\r\n\t\tthis.$el.css(this.scene.pos({\r\n\t\t\tdisplay: 'block',\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y - 10,\r\n\t\t\tz: this.z,\r\n\t\t\tscale: 0,\r\n\t\t\topacity: 0,\r\n\t\t}, this.sp));\r\n\t\tthis.scene.showEffect('pokeball', {\r\n\t\t\topacity: 0,\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y + 30,\r\n\t\t\tz: this.behind(50),\r\n\t\t\tscale: .7,\r\n\t\t}, {\r\n\t\t\topacity: 1,\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y - 10,\r\n\t\t\tz: this.z,\r\n\t\t\ttime: 300 / this.scene.acceleration,\r\n\t\t}, 'ballistic2', 'fade');\r\n\t\tif (this.scene.gen <= 4) {\r\n\t\t\tthis.delay(this.scene.timeOffset + 300 / this.scene.acceleration).anim({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tz: this.z,\r\n\t\t\t\ttime: 400 / this.scene.acceleration,\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.delay(this.scene.timeOffset + 300 / this.scene.acceleration).anim({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y + 30,\r\n\t\t\t\tz: this.z,\r\n\t\t\t\ttime: 400 / this.scene.acceleration,\r\n\t\t\t}).anim({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tz: this.z,\r\n\t\t\t\ttime: 300 / this.scene.acceleration,\r\n\t\t\t}, 'accel');\r\n\t\t}\r\n\t\tif (this.sp.shiny && this.scene.acceleration < 2) BattleOtherAnims.shiny.anim(this.scene, [this]);\r\n\t\tthis.scene.waitFor(this.$el);\r\n\r\n\t\tif (pokemon.hasVolatile('substitute' as ID)) {\r\n\t\t\tthis.animSub(true, true);\r\n\t\t\tthis.$sub!.css(this.scene.pos({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tz: this.z,\r\n\t\t\t}, this.subsp!));\r\n\t\t\tthis.$el.animate(this.scene.pos({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tz: this.behind(30),\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t}, this.sp), 300);\r\n\t\t}\r\n\r\n\t\tthis.resetStatbar(pokemon, true);\r\n\t\tthis.scene.updateSidebar(pokemon.side);\r\n\t\tthis.$statbar!.css({\r\n\t\t\tdisplay: 'block',\r\n\t\t\tleft: this.statbarLeft,\r\n\t\t\ttop: this.statbarTop + 20,\r\n\t\t\topacity: 0,\r\n\t\t});\r\n\t\tthis.$statbar!.delay(300 / this.scene.acceleration).animate({\r\n\t\t\ttop: this.statbarTop,\r\n\t\t\topacity: 1,\r\n\t\t}, 400 / this.scene.acceleration);\r\n\r\n\t\tthis.dogarsCheck(pokemon);\r\n\t}\r\n\tanimDragIn(pokemon: Pokemon, slot: number) {\r\n\t\tif (!this.scene.animating) return;\r\n\t\tthis.scene.$sprites[+this.isFrontSprite].append(this.$el);\r\n\t\tthis.recalculatePos(slot);\r\n\r\n\t\t// 'z-index': (this.isFrontSprite ? 4-slot : 1+slot),\r\n\t\tthis.$el.css(this.scene.pos({\r\n\t\t\tdisplay: 'block',\r\n\t\t\tx: this.leftof(-100),\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.z,\r\n\t\t\topacity: 0,\r\n\t\t}, this.sp));\r\n\t\tthis.delay(300).anim({\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.z,\r\n\t\t\ttime: 400,\r\n\t\t}, 'decel');\r\n\t\tif (!!this.scene.animating && this.sp.shiny) BattleOtherAnims.shiny.anim(this.scene, [this]);\r\n\t\tthis.scene.waitFor(this.$el);\r\n\t\tthis.scene.timeOffset = 700;\r\n\r\n\t\tthis.resetStatbar(pokemon, true);\r\n\t\tthis.scene.updateSidebar(pokemon.side);\r\n\t\tthis.$statbar!.css({\r\n\t\t\tdisplay: 'block',\r\n\t\t\tleft: this.statbarLeft + (this.isFrontSprite ? -100 : 100),\r\n\t\t\ttop: this.statbarTop,\r\n\t\t\topacity: 0,\r\n\t\t});\r\n\t\tthis.$statbar!.delay(300).animate({\r\n\t\t\tleft: this.statbarLeft,\r\n\t\t\topacity: 1,\r\n\t\t}, 400);\r\n\r\n\t\tthis.dogarsCheck(pokemon);\r\n\t}\r\n\tanimDragOut(pokemon: Pokemon) {\r\n\t\tif (!this.scene.animating) return this.animUnsummon(pokemon, true);\r\n\t\tif (this.$sub) {\r\n\t\t\tthis.isSubActive = false;\r\n\t\t\tconst $sub = this.$sub;\r\n\t\t\t$sub.animate(this.scene.pos({\r\n\t\t\t\tx: this.leftof(100),\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tz: this.z,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, this.subsp!), () => {\r\n\t\t\t\t$sub.remove();\r\n\t\t\t});\r\n\t\t\tthis.$sub = null;\r\n\t\t}\r\n\t\tthis.anim({\r\n\t\t\tx: this.leftof(100),\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.z,\r\n\t\t\topacity: 0,\r\n\t\t\ttime: 400,\r\n\t\t}, 'accel');\r\n\r\n\t\tthis.updateStatbar(pokemon, true);\r\n\t\tlet $statbar = this.$statbar;\r\n\t\tif ($statbar) {\r\n\t\t\tthis.$statbar = null;\r\n\t\t\t$statbar.animate({\r\n\t\t\t\tleft: this.statbarLeft - (this.isFrontSprite ? -100 : 100),\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 300 / this.scene.acceleration, () => {\r\n\t\t\t\t$statbar!.remove();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tanimUnsummon(pokemon: Pokemon, instant?: boolean) {\r\n\t\tthis.removeSub();\r\n\t\tif (!this.scene.animating || instant) {\r\n\t\t\tthis.$el.hide();\r\n\t\t\tif (this.$statbar) {\r\n\t\t\t\tthis.$statbar.remove();\r\n\t\t\t\tthis.$statbar = null;\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.scene.gen <= 4) {\r\n\t\t\tthis.anim({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y - 25,\r\n\t\t\t\tz: this.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 400 / this.scene.acceleration,\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.anim({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y - 40,\r\n\t\t\t\tz: this.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 400 / this.scene.acceleration,\r\n\t\t\t});\r\n\t\t}\r\n\t\tthis.scene.showEffect('pokeball', {\r\n\t\t\topacity: 1,\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y - 40,\r\n\t\t\tz: this.z,\r\n\t\t\tscale: .7,\r\n\t\t\ttime: 300 / this.scene.acceleration,\r\n\t\t}, {\r\n\t\t\topacity: 0,\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.behind(50),\r\n\t\t\ttime: 700 / this.scene.acceleration,\r\n\t\t}, 'ballistic2');\r\n\t\tif (this.scene.acceleration < 3) this.scene.wait(600 / this.scene.acceleration);\r\n\r\n\t\tthis.updateStatbar(pokemon, true);\r\n\t\tlet $statbar = this.$statbar;\r\n\t\tif ($statbar) {\r\n\t\t\tthis.$statbar = null;\r\n\t\t\t$statbar.animate({\r\n\t\t\t\tleft: this.statbarLeft + (this.isFrontSprite ? 50 : -50),\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 300 / this.scene.acceleration, () => {\r\n\t\t\t\t$statbar!.remove();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tanimFaint(pokemon: Pokemon) {\r\n\t\tthis.removeSub();\r\n\t\tif (!this.scene.animating) {\r\n\t\t\tthis.$el.remove();\r\n\t\t\tif (this.$statbar) {\r\n\t\t\t\tthis.$statbar.remove();\r\n\t\t\t\tthis.$statbar = null;\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.updateStatbar(pokemon, false, true);\r\n\t\tthis.scene.updateSidebar(pokemon.side);\r\n\t\tif (this.cryurl) {\r\n\t\t\tBattleSound.playEffect(this.cryurl);\r\n\t\t}\r\n\t\tthis.anim({\r\n\t\t\ty: this.y - 80,\r\n\t\t\topacity: 0,\r\n\t\t}, 'accel');\r\n\t\tthis.scene.waitFor(this.$el);\r\n\t\tthis.$el.promise().done(() => {\r\n\t\t\tthis.$el.remove();\r\n\t\t});\r\n\r\n\t\tlet $statbar = this.$statbar;\r\n\t\tif ($statbar) {\r\n\t\t\tthis.$statbar = null;\r\n\t\t\t$statbar.animate({\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 300, () => {\r\n\t\t\t\t$statbar!.remove();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tanimTransform(pokemon: Pokemon, isCustomAnim?: boolean, isPermanent?: boolean) {\r\n\t\tif (!this.scene.animating && !isPermanent) return;\r\n\t\tlet sp = Dex.getSpriteData(pokemon, this.isFrontSprite, {\r\n\t\t\tgen: this.scene.gen,\r\n\t\t\tmod: this.scene.mod,\r\n\t\t});\r\n\t\tlet oldsp = this.sp;\r\n\t\tif (isPermanent) {\r\n\t\t\tif (pokemon.volatiles.dynamax) {\r\n\t\t\t\t// if a permanent forme change happens while dynamaxed, we need an undynamaxed sprite to go back to\r\n\t\t\t\tthis.oldsp = Dex.getSpriteData(pokemon, this.isFrontSprite, {\r\n\t\t\t\t\tgen: this.scene.gen,\r\n\t\t\t\t\tmod: this.scene.mod,\r\n\t\t\t\t\tdynamax: false,\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.oldsp = null;\r\n\t\t\t}\r\n\t\t} else if (!this.oldsp) {\r\n\t\t\tthis.oldsp = oldsp;\r\n\t\t}\r\n\t\tthis.sp = sp;\r\n\t\tthis.cryurl = sp.cryurl;\r\n\r\n\t\tif (!this.scene.animating) return;\r\n\t\tlet speciesid = toID(pokemon.getSpeciesForme());\r\n\t\tlet doCry = false;\r\n\t\tconst scene = this.scene;\r\n\t\tif (isCustomAnim) {\r\n\t\t\tif (speciesid === 'kyogreprimal') {\r\n\t\t\t\tBattleOtherAnims.primalalpha.anim(scene, [this]);\r\n\t\t\t\tdoCry = true;\r\n\t\t\t} else if (speciesid === 'groudonprimal') {\r\n\t\t\t\tBattleOtherAnims.primalomega.anim(scene, [this]);\r\n\t\t\t\tdoCry = true;\r\n\t\t\t} else if (speciesid === 'necrozmaultra') {\r\n\t\t\t\tBattleOtherAnims.ultraburst.anim(scene, [this]);\r\n\t\t\t\tdoCry = true;\r\n\t\t\t} else if (speciesid === 'zygardecomplete') {\r\n\t\t\t\tBattleOtherAnims.powerconstruct.anim(scene, [this]);\r\n\t\t\t} else if (speciesid === 'wishiwashischool' || speciesid === 'greninjaash') {\r\n\t\t\t\tBattleOtherAnims.schoolingin.anim(scene, [this]);\r\n\t\t\t} else if (speciesid === 'wishiwashi') {\r\n\t\t\t\tBattleOtherAnims.schoolingout.anim(scene, [this]);\r\n\t\t\t/* } else if (speciesid === 'eecroachswarm') {\r\n\t\t\t\tBattleOtherAnims.swarmingin.anim(scene, [this]);\r\n\t\t\t} else if (speciesid === 'eecroach') {\r\n\t\t\t\tBattleOtherAnims.swarmingout.anim(scene, [this]); */\r\n\t\t\t} else if (speciesid === 'mimikyubusted' || speciesid === 'mimikyubustedtotem' || speciesid === 'stackemrockless') {\r\n\t\t\t\t// standard animation\r\n\t\t\t} else {\r\n\t\t\t\tBattleOtherAnims.megaevo.anim(scene, [this]);\r\n\t\t\t\tdoCry = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Constructing here gives us 300ms extra time to preload the new sprite\r\n\t\tlet $newEl = $('<img src=\"' + sp.url + '\" style=\"display:block;opacity:0;position:absolute\"' + (sp.pixelated ? ' class=\"pixelated\"' : '') + ' />');\r\n\t\t$newEl.css(this.scene.pos({\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.z,\r\n\t\t\tyscale: 0,\r\n\t\t\txscale: 0,\r\n\t\t\topacity: 0,\r\n\t\t}, sp));\r\n\t\tif (speciesid === 'palafinhero') {\r\n\t\t\tthis.$el.replaceWith($newEl);\r\n\t\t\tthis.$el = $newEl;\r\n\t\t} else {\r\n\t\t\tthis.$el.animate(this.scene.pos({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tz: this.z,\r\n\t\t\t\tyscale: 0,\r\n\t\t\t\txscale: 0,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t}, oldsp), 300, () => {\r\n\t\t\t\tif (this.cryurl && doCry) {\r\n\t\t\t\t\tBattleSound.playEffect(this.cryurl);\r\n\t\t\t\t}\r\n\t\t\t\tthis.$el.replaceWith($newEl);\r\n\t\t\t\tthis.$el = $newEl;\r\n\t\t\t\tthis.$el.animate(scene.pos({\r\n\t\t\t\t\tx: this.x,\r\n\t\t\t\t\ty: this.y,\r\n\t\t\t\t\tz: this.z,\r\n\t\t\t\t\topacity: 1,\r\n\t\t\t\t}, sp), 300);\r\n\t\t\t});\r\n\t\t\tthis.scene.wait(500);\r\n\t\t}\r\n\r\n\t\tthis.scene.updateSidebar(pokemon.side);\r\n\t\tif (isPermanent) {\r\n\t\t\tthis.resetStatbar(pokemon);\r\n\t\t} else {\r\n\t\t\tthis.updateStatbar(pokemon);\r\n\t\t}\r\n\t}\r\n\r\n\tpokeEffect(id: ID) {\r\n\t\tif (id === 'protect' || id === 'magiccoat') {\r\n\t\t\tthis.effects[id][0].anim({\r\n\t\t\t\tscale: 1.2,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}).anim({\r\n\t\t\t\topacity: .4,\r\n\t\t\t\ttime: 300,\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\taddEffect(id: ID, instant?: boolean) {\r\n\t\tif (id in this.effects) {\r\n\t\t\tthis.pokeEffect(id);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst spriten = +this.isFrontSprite;\r\n\t\tif (id === 'substitute' || id === 'shedtail') {\r\n\t\t\tthis.animSub(instant);\r\n\t\t} else if (id === 'leechseed') {\r\n\t\t\tconst pos1 = {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: this.x - 30,\r\n\t\t\t\ty: this.y - 40,\r\n\t\t\t\tz: this.z,\r\n\t\t\t\tscale: .2,\r\n\t\t\t\topacity: .6,\r\n\t\t\t};\r\n\t\t\tconst pos2 = {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: this.x + 40,\r\n\t\t\t\ty: this.y - 35,\r\n\t\t\t\tz: this.z,\r\n\t\t\t\tscale: .2,\r\n\t\t\t\topacity: .6,\r\n\t\t\t};\r\n\t\t\tconst pos3 = {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: this.x + 20,\r\n\t\t\t\ty: this.y - 25,\r\n\t\t\t\tz: this.z,\r\n\t\t\t\tscale: .2,\r\n\t\t\t\topacity: .6,\r\n\t\t\t};\r\n\r\n\t\t\tconst leechseed1 = new Sprite(BattleEffects.energyball, pos1, this.scene);\r\n\t\t\tconst leechseed2 = new Sprite(BattleEffects.energyball, pos2, this.scene);\r\n\t\t\tconst leechseed3 = new Sprite(BattleEffects.energyball, pos3, this.scene);\r\n\t\t\tthis.scene.$spritesFront[spriten].append(leechseed1.$el!);\r\n\t\t\tthis.scene.$spritesFront[spriten].append(leechseed2.$el!);\r\n\t\t\tthis.scene.$spritesFront[spriten].append(leechseed3.$el!);\r\n\t\t\tthis.effects['leechseed'] = [leechseed1, leechseed2, leechseed3];\r\n\t\t} else if (id === 'protect' || id === 'magiccoat') {\r\n\t\t\tconst protect = new Sprite(BattleEffects.protect, {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tz: this.behind(-15),\r\n\t\t\t\txscale: 1,\r\n\t\t\t\tyscale: 0,\r\n\t\t\t\topacity: .1,\r\n\t\t\t}, this.scene);\r\n\t\t\tthis.scene.$spritesFront[spriten].append(protect.$el!);\r\n\t\t\tthis.effects[id] = [protect];\r\n\t\t\tprotect.anim({\r\n\t\t\t\topacity: .9,\r\n\t\t\t\ttime: instant ? 0 : 400,\r\n\t\t\t}).anim({\r\n\t\t\t\topacity: .4,\r\n\t\t\t\ttime: instant ? 0 : 300,\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tremoveEffect(id: ID, instant?: boolean) {\r\n\t\tif (id === 'formechange') this.removeTransform();\r\n\t\tif (id === 'substitute') this.animSubFade(instant);\r\n\t\tif (this.effects[id]) {\r\n\t\t\tfor (const sprite of this.effects[id]) sprite.destroy();\r\n\t\t\tdelete this.effects[id];\r\n\t\t}\r\n\t}\r\n\tclearEffects() {\r\n\t\tfor (const id in this.effects) this.removeEffect(id as ID, true);\r\n\t\tthis.animSubFade(true);\r\n\t\tthis.removeTransform();\r\n\t}\r\n\r\n\tdogarsCheck(pokemon: Pokemon) {\r\n\t\tif (pokemon.side.isFar) return;\r\n\r\n\t\tif (pokemon.speciesForme === 'Koffing' && pokemon.name.match(/dogars/i)) {\r\n\t\t\tthis.scene.setBgm(-1);\r\n\t\t} else if (this.scene.bgmNum === -1) {\r\n\t\t\tthis.scene.rollBgm();\r\n\t\t}\r\n\t}\r\n\r\n\t// Statbar\r\n\t/////////////////////////////////////////////////////////////////////\r\n\r\n\tgetClassForPosition(slot: number) {\r\n\t\t// DOUBLES: Slot0 -> left / Slot1 -> Right\r\n\t\t// TRIPLES: slot0 -> left / Slot1 -> Center / Slot2 -> Right\r\n\t\tconst position = [\r\n\t\t\t' leftstatbar',\r\n\t\t\tthis.scene.activeCount === 3 ? ' centerstatbar' : ' rightstatbar',\r\n\t\t\t' rightstatbar',\r\n\t\t];\r\n\t\treturn position[slot];\r\n\t}\r\n\r\n\tgetStatbarHTML(pokemon: Pokemon) {\r\n\t\tlet buf = '<div class=\"statbar' + (this.isFrontSprite ? ' lstatbar' : ' rstatbar') + this.getClassForPosition(pokemon.slot) + '\" style=\"display: none\">';\r\n\t\tconst ignoreNick = this.isFrontSprite && (this.scene.battle.ignoreOpponent || this.scene.battle.ignoreNicks);\r\n\t\tbuf += `<strong>${BattleLog.escapeHTML(ignoreNick ? pokemon.speciesForme : pokemon.name)}`;\r\n\t\tconst gender = pokemon.gender;\r\n\t\tif (gender === 'M' || gender === 'F') {\r\n\t\t\tbuf += ` <img src=\"${Dex.fxPrefix}gender-${gender.toLowerCase()}.png\" alt=\"${gender}\" width=\"7\" height=\"10\" class=\"pixelated\" />`;\r\n\t\t}\r\n\t\tbuf += (pokemon.level === 100 ? `` : ` <small>L${pokemon.level}</small>`);\r\n\r\n\t\tlet symbol = '';\r\n\t\tif (pokemon.speciesForme.indexOf('-Mega') >= 0) symbol = 'mega';\r\n\t\telse if (pokemon.speciesForme === 'Kyogre-Primal') symbol = 'alpha';\r\n\t\telse if (pokemon.speciesForme === 'Groudon-Primal') symbol = 'omega';\r\n\t\tif (symbol) {\r\n\t\t\tbuf += ` <img src=\"${Dex.resourcePrefix}sprites/misc/${symbol}.png\" alt=\"${symbol}\" style=\"vertical-align:text-bottom;\" />`;\r\n\t\t}\r\n\t\tif (pokemon.terastallized) {\r\n\t\t\tbuf += ` <img src=\"${Dex.resourcePrefix}sprites/types/Tera${pokemon.terastallized}.png\" alt=\"Tera-${pokemon.terastallized}\" style=\"vertical-align:text-bottom;\" height=\"16\" width=\"16\" />`;\r\n\t\t}\r\n\r\n\t\tbuf += `</strong><div class=\"hpbar\"><div class=\"hptext\"></div><div class=\"hptextborder\"></div><div class=\"prevhp\"><div class=\"hp\"></div></div><div class=\"status\"></div>`;\r\n\t\tbuf += `</div>`;\r\n\t\treturn buf;\r\n\t}\r\n\r\n\tresetStatbar(pokemon: Pokemon, startHidden?: boolean) {\r\n\t\tif (this.$statbar) {\r\n\t\t\tthis.$statbar.remove();\r\n\t\t\tthis.$statbar = null as any; // workaround for TS thinking $statbar is still null after `updateStatbar`\r\n\t\t}\r\n\t\tthis.updateStatbar(pokemon, true);\r\n\t\tif (!startHidden && this.$statbar) {\r\n\t\t\tthis.$statbar.css({\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tleft: this.statbarLeft,\r\n\t\t\t\ttop: this.statbarTop,\r\n\t\t\t\topacity: 1,\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tupdateStatbarIfExists(pokemon: Pokemon, updatePrevhp?: boolean, updateHp?: boolean) {\r\n\t\tif (this.$statbar) {\r\n\t\t\tthis.updateStatbar(pokemon, updatePrevhp, updateHp);\r\n\t\t}\r\n\t}\r\n\r\n\tupdateStatbar(pokemon: Pokemon, updatePrevhp?: boolean, updateHp?: boolean) {\r\n\t\tif (!this.scene.animating) return;\r\n\t\tif (!pokemon.isActive()) {\r\n\t\t\tif (this.$statbar) this.$statbar.hide();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (!this.$statbar) {\r\n\t\t\tthis.$statbar = $(this.getStatbarHTML(pokemon));\r\n\t\t\tthis.scene.$stat.append(this.$statbar);\r\n\t\t\tupdatePrevhp = true;\r\n\t\t}\r\n\t\tlet hpcolor;\r\n\t\tif (updatePrevhp || updateHp) {\r\n\t\t\thpcolor = BattleScene.getHPColor(pokemon);\r\n\t\t\tlet w = pokemon.hpWidth(150);\r\n\t\t\tlet $hp = this.$statbar.find('.hp');\r\n\t\t\t$hp.css({\r\n\t\t\t\twidth: w,\r\n\t\t\t\t'border-right-width': (w ? 1 : 0),\r\n\t\t\t});\r\n\t\t\tif (hpcolor === 'g') $hp.removeClass('hp-yellow hp-red');\r\n\t\t\telse if (hpcolor === 'y') $hp.removeClass('hp-red').addClass('hp-yellow');\r\n\t\t\telse $hp.addClass('hp-yellow hp-red');\r\n\t\t\tthis.updateHPText(pokemon);\r\n\t\t}\r\n\t\tif (updatePrevhp) {\r\n\t\t\tlet $prevhp = this.$statbar.find('.prevhp');\r\n\t\t\t$prevhp.css('width', pokemon.hpWidth(150) + 1);\r\n\t\t\tif (hpcolor === 'g') $prevhp.removeClass('prevhp-yellow prevhp-red');\r\n\t\t\telse if (hpcolor === 'y') $prevhp.removeClass('prevhp-red').addClass('prevhp-yellow');\r\n\t\t\telse $prevhp.addClass('prevhp-yellow prevhp-red');\r\n\t\t}\r\n\t\tlet status = '';\r\n\t\tif (pokemon.status === 'brn') {\r\n\t\t\tstatus += '<span class=\"brn\">BRN</span> ';\r\n\t\t} else if (pokemon.status === 'psn') {\r\n\t\t\tstatus += '<span class=\"psn\">PSN</span> ';\r\n\t\t} else if (pokemon.status === 'tox') {\r\n\t\t\tstatus += '<span class=\"psn\">TOX</span> ';\r\n\t\t} else if (pokemon.status === 'slp') {\r\n\t\t\tstatus += '<span class=\"slp\">SLP</span> ';\r\n\t\t} else if (pokemon.status === 'par') {\r\n\t\t\tstatus += '<span class=\"par\">PAR</span> ';\r\n\t\t} else if (pokemon.status === 'frz') {\r\n\t\t\tstatus += '<span class=\"frz\">FRZ</span> ';\r\n\t\t} else if (pokemon.status === 'frb') {\r\n\t\t\tstatus += '<span class=\"frb\">FRB</span> ';\r\n\t\t}\r\n\t\tif (pokemon.terastallized) {\r\n\t\t\tstatus += `<img src=\"${Dex.resourcePrefix}sprites/types/${encodeURIComponent(pokemon.terastallized)}.png\" alt=\"${pokemon.terastallized}\" class=\"pixelated\" /> `;\r\n\t\t} else if (pokemon.volatiles.typechange && pokemon.volatiles.typechange[1]) {\r\n\t\t\tconst types = pokemon.volatiles.typechange[1].split('/');\r\n\t\t\tfor (const type of types) {\r\n\t\t\t\tstatus += '<img src=\"' + Dex.resourcePrefix + 'sprites/types/' + encodeURIComponent(type) + '.png\" alt=\"' + type + '\" class=\"pixelated\" /> ';\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (pokemon.volatiles.typeadd) {\r\n\t\t\tconst type = pokemon.volatiles.typeadd[1];\r\n\t\t\tstatus += '+<img src=\"' + Dex.resourcePrefix + 'sprites/types/' + type + '.png\" alt=\"' + type + '\" class=\"pixelated\" /> ';\r\n\t\t}\r\n\t\tfor (const stat in pokemon.boosts) {\r\n\t\t\tif (pokemon.boosts[stat]) {\r\n\t\t\t\tstatus += '<span class=\"' + pokemon.getBoostType(stat as BoostStatName) + '\">' + pokemon.getBoost(stat as BoostStatName) + '</span> ';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (let i in pokemon.volatiles) {\r\n\t\t\tstatus += PokemonSprite.getEffectTag(i);\r\n\t\t}\r\n\t\tfor (let i in pokemon.turnstatuses) {\r\n\t\t\tif (i === 'roost' && !pokemon.getTypeList().includes('Flying')) continue;\r\n\t\t\tstatus += PokemonSprite.getEffectTag(i);\r\n\t\t}\r\n\t\tfor (let i in pokemon.movestatuses) {\r\n\t\t\tstatus += PokemonSprite.getEffectTag(i);\r\n\t\t}\r\n\t\tlet statusbar = this.$statbar.find('.status');\r\n\t\tstatusbar.html(status);\r\n\t}\r\n\r\n\tprivate static getEffectTag(id: string) {\r\n\t\tlet effect = PokemonSprite.statusTable[id];\r\n\t\tif (typeof effect === 'string') return effect;\r\n\t\tif (effect === null) return PokemonSprite.statusTable[id] = '';\r\n\t\tif (effect === undefined) {\r\n\t\t\tlet label = `[[${id}]]`;\r\n\t\t\tif (Dex.species.get(id).exists) {\r\n\t\t\t\tlabel = Dex.species.get(id).name;\r\n\t\t\t} else if (Dex.items.get(id).exists) {\r\n\t\t\t\tlabel = Dex.items.get(id).name;\r\n\t\t\t} else if (Dex.moves.get(id).exists) {\r\n\t\t\t\tlabel = Dex.moves.get(id).name;\r\n\t\t\t} else if (Dex.abilities.get(id).exists) {\r\n\t\t\t\tlabel = Dex.abilities.get(id).name;\r\n\t\t\t}\r\n\t\t\teffect = [label, 'neutral'];\r\n\t\t}\r\n\t\treturn PokemonSprite.statusTable[id] = `<span class=\"${effect[1]}\">${effect[0].replace(/ /g, '&nbsp;')}</span> `;\r\n\t}\r\n\r\n\tupdateHPText(pokemon: Pokemon) {\r\n\t\tif (!this.$statbar) return;\r\n\t\tlet $hptext = this.$statbar.find('.hptext');\r\n\t\tlet $hptextborder = this.$statbar.find('.hptextborder');\r\n\t\tif (pokemon.maxhp === 48 || this.scene.battle.hardcoreMode && pokemon.maxhp === 100) {\r\n\t\t\t$hptext.hide();\r\n\t\t\t$hptextborder.hide();\r\n\t\t} else if (this.scene.battle.hardcoreMode) {\r\n\t\t\t$hptext.html(pokemon.hp + '/');\r\n\t\t\t$hptext.show();\r\n\t\t\t$hptextborder.show();\r\n\t\t} else {\r\n\t\t\t$hptext.html(pokemon.hpWidth(100) + '%');\r\n\t\t\t$hptext.show();\r\n\t\t\t$hptextborder.show();\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// par: -webkit-filter:  sepia(100%) hue-rotate(373deg) saturate(592%);\r\n//      -webkit-filter:  sepia(100%) hue-rotate(22deg) saturate(820%) brightness(29%);\r\n// psn: -webkit-filter:  sepia(100%) hue-rotate(618deg) saturate(285%);\r\n// brn: -webkit-filter:  sepia(100%) hue-rotate(311deg) saturate(469%);\r\n// slp: -webkit-filter:  grayscale(100%);\r\n// frz: -webkit-filter:  sepia(100%) hue-rotate(154deg) saturate(759%) brightness(23%);\r\n\r\n// @ts-ignore\r\nObject.assign($.easing, {\r\n\tballisticUp(x: number, t: number, b: number, c: number, d: number) {\r\n\t\treturn -3 * x * x + 4 * x;\r\n\t},\r\n\tballisticDown(x: number, t: number, b: number, c: number, d: number) {\r\n\t\tx = 1 - x;\r\n\t\treturn 1 - (-3 * x * x + 4 * x);\r\n\t},\r\n\tquadUp(x: number, t: number, b: number, c: number, d: number) {\r\n\t\tx = 1 - x;\r\n\t\treturn 1 - (x * x);\r\n\t},\r\n\tquadDown(x: number, t: number, b: number, c: number, d: number) {\r\n\t\treturn x * x;\r\n\t},\r\n});\r\n\r\ninterface AnimData {\r\n\tanim(scene: BattleScene, args: PokemonSprite[]): void;\r\n\tprepareAnim?(scene: BattleScene, args: PokemonSprite[]): void;\r\n\tresidualAnim?(scene: BattleScene, args: PokemonSprite[]): void;\r\n}\r\nexport type AnimTable = {[k: string]: AnimData};\r\n\r\nconst BattleEffects: {[k: string]: SpriteData} = {\r\n\twisp: {\r\n\t\turl: 'wisp.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tpoisonwisp: {\r\n\t\turl: 'poisonwisp.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\twaterwisp: {\r\n\t\turl: 'waterwisp.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tmudwisp: {\r\n\t\turl: 'mudwisp.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tblackwisp: {\r\n\t\turl: 'blackwisp.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tfireball: {\r\n\t\turl: 'fireball.png',\r\n\t\tw: 64, h: 64,\r\n\t},\r\n\tbluefireball: {\r\n\t\turl: 'bluefireball.png',\r\n\t\tw: 64, h: 64,\r\n\t},\r\n\ticicle: {\r\n\t\turl: 'icicle.png', // http://opengameart.org/content/icicle-spell\r\n\t\tw: 80, h: 60,\r\n\t},\r\n\tpinkicicle: {\r\n\t\turl: 'icicle-pink.png', // http://opengameart.org/content/icicle-spell, recolored by Kalalokki\r\n\t\tw: 80, h: 60,\r\n\t},\r\n\tlightning: {\r\n\t\turl: 'lightning.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 41, h: 229,\r\n\t},\r\n\trocks: {\r\n\t\turl: 'rocks.png', // Pokemon Online - Gilad\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\trock1: {\r\n\t\turl: 'rock1.png', // Pokemon Online - Gilad\r\n\t\tw: 64, h: 80,\r\n\t},\r\n\trock2: {\r\n\t\turl: 'rock2.png', // Pokemon Online - Gilad\r\n\t\tw: 66, h: 72,\r\n\t},\r\n\trock3: {\r\n\t\turl: 'rock3.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 66, h: 72,\r\n\t},\r\n\tleaf1: {\r\n\t\turl: 'leaf1.png',\r\n\t\tw: 32, h: 26,\r\n\t},\r\n\tleaf2: {\r\n\t\turl: 'leaf2.png',\r\n\t\tw: 40, h: 26,\r\n\t},\r\n\tbone: {\r\n\t\turl: 'bone.png',\r\n\t\tw: 29, h: 29,\r\n\t},\r\n\tcaltrop: {\r\n\t\turl: 'caltrop.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 80, h: 80,\r\n\t},\r\n\tgreenmetal1: {\r\n\t\turl: 'greenmetal1.png', // by Pokemon Showdown user Kalalokki\r\n\t\tw: 45, h: 45,\r\n\t},\r\n\tgreenmetal2: {\r\n\t\turl: 'greenmetal2.png', // by Pokemon Showdown user Kalalokki\r\n\t\tw: 45, h: 45,\r\n\t},\r\n\tpoisoncaltrop: {\r\n\t\turl: 'poisoncaltrop.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 80, h: 80,\r\n\t},\r\n\tshadowball: {\r\n\t\turl: 'shadowball.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tenergyball: {\r\n\t\turl: 'energyball.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\telectroball: {\r\n\t\turl: 'electroball.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tmistball: {\r\n\t\turl: 'mistball.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\ticeball: {\r\n\t\turl: 'iceball.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tflareball: {\r\n\t\turl: 'flareball.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tpokeball: {\r\n\t\turl: 'pokeball.png',\r\n\t\tw: 24, h: 24,\r\n\t},\r\n\tfist: {\r\n\t\turl: 'fist.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 55, h: 49,\r\n\t},\r\n\tfist1: {\r\n\t\turl: 'fist1.png',\r\n\t\tw: 49, h: 55,\r\n\t},\r\n\tfoot: {\r\n\t\turl: 'foot.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 50, h: 75,\r\n\t},\r\n\ttopbite: {\r\n\t\turl: 'topbite.png',\r\n\t\tw: 108, h: 64,\r\n\t},\r\n\tbottombite: {\r\n\t\turl: 'bottombite.png',\r\n\t\tw: 108, h: 64,\r\n\t},\r\n\tweb: {\r\n\t\turl: 'web.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 120, h: 122,\r\n\t},\r\n\tleftclaw: {\r\n\t\turl: 'leftclaw.png',\r\n\t\tw: 44, h: 60,\r\n\t},\r\n\trightclaw: {\r\n\t\turl: 'rightclaw.png',\r\n\t\tw: 44, h: 60,\r\n\t},\r\n\tleftslash: {\r\n\t\turl: 'leftslash.png', // by Pokemon Showdown user Modeling Clay\r\n\t\tw: 57, h: 56,\r\n\t},\r\n\trightslash: {\r\n\t\turl: 'rightslash.png', // by Pokemon Showdown user Modeling Clay\r\n\t\tw: 57, h: 56,\r\n\t},\r\n\tleftchop: {\r\n\t\turl: 'leftchop.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 100, h: 130,\r\n\t},\r\n\trightchop: {\r\n\t\turl: 'rightchop.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 100, h: 130,\r\n\t},\r\n\tangry: {\r\n\t\turl: 'angry.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 30, h: 30,\r\n\t},\r\n\theart: {\r\n\t\turl: 'heart.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 30, h: 30,\r\n\t},\r\n\tpointer: {\r\n\t\turl: 'pointer.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tsword: {\r\n\t\turl: 'sword.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 48, h: 100,\r\n\t},\r\n\timpact: {\r\n\t\turl: 'impact.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 127, h: 119,\r\n\t},\r\n\tstare: {\r\n\t\turl: 'stare.png',\r\n\t\tw: 100, h: 35,\r\n\t},\r\n\tshine: {\r\n\t\turl: 'shine.png', // by Smogon user Jajoken\r\n\t\tw: 127, h: 119,\r\n\t},\r\n\tfeather: {\r\n\t\turl: 'feather.png', // Ripped from http://www.clker.com/clipart-black-and-white-feather.html\r\n\t\tw: 100, h: 38,\r\n\t},\r\n\tshell: {\r\n\t\turl: 'shell.png', // by Smogon user Jajoken\r\n\t\tw: 100, h: 91.5,\r\n\t},\r\n\tpetal: {\r\n\t\turl: 'petal.png', // by Smogon user Jajoken\r\n\t\tw: 60, h: 60,\r\n\t},\r\n\tgear: {\r\n\t\turl: 'gear.png', // by Smogon user Jajoken\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\talpha: {\r\n\t\turl: 'alpha.png', // Ripped from Pokemon Global Link\r\n\t\tw: 80, h: 80,\r\n\t},\r\n\tomega: {\r\n\t\turl: 'omega.png', // Ripped from Pokemon Global Link\r\n\t\tw: 80, h: 80,\r\n\t},\r\n\trainbow: {\r\n\t\turl: 'rainbow.png',\r\n\t\tw: 128, h: 128,\r\n\t},\r\n\tzsymbol: {\r\n\t\turl: 'z-symbol.png', // From http://froggybutt.deviantart.com/art/Pokemon-Z-Move-symbol-633125033\r\n\t\tw: 150, h: 100,\r\n\t},\r\n\tultra: {\r\n\t\turl: 'ultra.png', // by Pokemon Showdown user Modeling Clay\r\n\t\tw: 113, h: 165,\r\n\t},\r\n\thitmark: {\r\n\t\turl: 'hitmarker.png', // by Pokemon Showdown user Ridaz\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tprotect: {\r\n\t\trawHTML: '<div class=\"turnstatus-protect\" style=\"display:none;position:absolute\" />',\r\n\t\tw: 100, h: 70,\r\n\t},\r\n\tauroraveil: {\r\n\t\trawHTML: '<div class=\"sidecondition-auroraveil\" style=\"display:none;position:absolute\" />',\r\n\t\tw: 100, h: 50,\r\n\t},\r\n\treflect: {\r\n\t\trawHTML: '<div class=\"sidecondition-reflect\" style=\"display:none;position:absolute\" />',\r\n\t\tw: 100, h: 50,\r\n\t},\r\n\tsafeguard: {\r\n\t\trawHTML: '<div class=\"sidecondition-safeguard\" style=\"display:none;position:absolute\" />',\r\n\t\tw: 100, h: 50,\r\n\t},\r\n\tlightscreen: {\r\n\t\trawHTML: '<div class=\"sidecondition-lightscreen\" style=\"display:none;position:absolute\" />',\r\n\t\tw: 100, h: 50,\r\n\t},\r\n\tmist: {\r\n\t\trawHTML: '<div class=\"sidecondition-mist\" style=\"display:none;position:absolute\" />',\r\n\t\tw: 100, h: 50,\r\n\t},\r\n\r\n\t// swse\r\n\tgreenwisp: {\r\n\t\turl: 'greenwisp.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n};\r\n(() => {\r\n\tif (!window.Dex || !Dex.resourcePrefix) return;\r\n\tfor (const id in BattleEffects) {\r\n\t\tif (!BattleEffects[id].url) continue;\r\n\t\tBattleEffects[id].url = Dex.fxPrefix + BattleEffects[id].url;\r\n\t}\r\n})();\r\nconst BattleBackdropsThree = [\r\n\t'bg-gen3.png',\r\n\t'bg-gen3-cave.png',\r\n\t'bg-gen3-ocean.png',\r\n\t'bg-gen3-sand.png',\r\n\t'bg-gen3-forest.png',\r\n\t'bg-gen3-arena.png',\r\n];\r\nconst BattleBackdropsFour = [\r\n\t'bg-gen4.png',\r\n\t'bg-gen4-cave.png',\r\n\t'bg-gen4-snow.png',\r\n\t'bg-gen4-indoors.png',\r\n\t'bg-gen4-water.png',\r\n];\r\nconst BattleBackdropsFive = [\r\n\t'bg-beach.png',\r\n\t'bg-beachshore.png',\r\n\t'bg-desert.png',\r\n\t'bg-meadow.png',\r\n\t'bg-thunderplains.png',\r\n\t'bg-city.png',\r\n\t'bg-earthycave.png',\r\n\t'bg-mountain.png',\r\n\t'bg-volcanocave.png',\r\n\t'bg-dampcave.png',\r\n\t'bg-forest.png',\r\n\t'bg-river.png',\r\n\t'bg-deepsea.png',\r\n\t'bg-icecave.png',\r\n\t'bg-route.png',\r\n];\r\nconst BattleBackdrops = [\r\n\t'bg-aquacordetown.jpg',\r\n\t'bg-beach.jpg',\r\n\t'bg-city.jpg',\r\n\t'bg-dampcave.jpg',\r\n\t'bg-darkbeach.jpg',\r\n\t'bg-darkcity.jpg',\r\n\t'bg-darkmeadow.jpg',\r\n\t'bg-deepsea.jpg',\r\n\t'bg-desert.jpg',\r\n\t'bg-earthycave.jpg',\r\n\t'bg-elite4drake.jpg',\r\n\t'bg-forest.jpg',\r\n\t'bg-icecave.jpg',\r\n\t'bg-leaderwallace.jpg',\r\n\t'bg-library.jpg',\r\n\t'bg-meadow.jpg',\r\n\t'bg-orasdesert.jpg',\r\n\t'bg-orassea.jpg',\r\n\t'bg-skypillar.jpg',\r\n];\r\n\r\nexport const BattleOtherAnims: AnimTable = {\r\n\thitmark: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('hitmark', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t}, {\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 250,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t},\r\n\t},\r\n\tattack: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.behind(40),\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t}, 'linear');\r\n\t\t},\r\n\t},\r\n\tcontactattack: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y + 80,\r\n\t\t\t\tz: defender.behind(-30),\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'ballistic');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y + 5,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'ballistic2Back');\r\n\t\t\tdefender.delay(450);\r\n\t\t\tdefender.anim({\r\n\t\t\t\tz: defender.behind(20),\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'swing');\r\n\t\t\tscene.wait(500);\r\n\t\t},\r\n\t},\r\n\txattack: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.leftof(-20),\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.behind(20),\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.leftof(-20),\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.behind(20),\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 1000,\r\n\t\t\t}, 'linear');\r\n\t\t\tdefender.delay(480);\r\n\t\t\tdefender.anim({\r\n\t\t\t\tz: defender.behind(20),\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\tz: defender.behind(20),\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.leftof(-30),\r\n\t\t\t\ty: defender.y + 80,\r\n\t\t\t\tz: defender.behind(-30),\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'ballistic');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.leftof(30),\r\n\t\t\t\ty: defender.y + 5,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.leftof(30),\r\n\t\t\t\ty: defender.y + 80,\r\n\t\t\t\tz: defender.behind(-30),\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'ballisticUp');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.leftof(-30),\r\n\t\t\t\ty: defender.y + 5,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'ballistic2Back');\r\n\t\t},\r\n\t},\r\n\tslashattack: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y + 80,\r\n\t\t\t\tz: defender.behind(-30),\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'ballistic');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y + 5,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'ballistic2Back');\r\n\t\t\tdefender.delay(450);\r\n\t\t\tdefender.anim({\r\n\t\t\t\tz: defender.behind(20),\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'swing');\r\n\r\n\t\t\tscene.showEffect('rightslash', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 800,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t},\r\n\t},\r\n\tclawattack: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.leftof(-30),\r\n\t\t\t\ty: defender.y + 80,\r\n\t\t\t\tz: defender.behind(-30),\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'ballistic');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.leftof(30),\r\n\t\t\t\ty: defender.y + 5,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.leftof(30),\r\n\t\t\t\ty: defender.y + 80,\r\n\t\t\t\tz: defender.behind(-30),\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'ballisticUp');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.leftof(-30),\r\n\t\t\t\ty: defender.y + 5,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'ballistic2Back');\r\n\t\t\tdefender.delay(450);\r\n\t\t\tdefender.anim({\r\n\t\t\t\tz: defender.behind(20),\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\tz: defender.behind(20),\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'swing');\r\n\r\n\t\t\tscene.showEffect('leftclaw', {\r\n\t\t\t\tx: defender.x - 20,\r\n\t\t\t\ty: defender.y + 20,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x - 20,\r\n\t\t\t\ty: defender.y + 20,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('leftclaw', {\r\n\t\t\t\tx: defender.x - 20,\r\n\t\t\t\ty: defender.y - 20,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x - 20,\r\n\t\t\t\ty: defender.y - 20,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('rightclaw', {\r\n\t\t\t\tx: defender.x + 20,\r\n\t\t\t\ty: defender.y + 20,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x + 20,\r\n\t\t\t\ty: defender.y + 20,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 1000,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('rightclaw', {\r\n\t\t\t\tx: defender.x + 20,\r\n\t\t\t\ty: defender.y - 20,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x + 20,\r\n\t\t\t\ty: defender.y - 20,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 1000,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t},\r\n\t},\r\n\tpunchattack: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.leftof(-20),\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.behind(20),\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.leftof(-20),\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.behind(20),\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 800,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('fist', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.leftof(-20),\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.behind(20),\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 800,\r\n\t\t\t}, 'linear');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.leftof(20),\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.behind(-20),\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'ballistic2Under');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\ttime: 50,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'ballistic2');\r\n\t\t\tdefender.delay(425);\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.leftof(-15),\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.behind(15),\r\n\t\t\t\ttime: 50,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'swing');\r\n\t\t},\r\n\t},\r\n\tbite: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tscene.showEffect('topbite', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y + 50,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 370,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y + 10,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('bottombite', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y - 50,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 370,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y - 10,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t},\r\n\t},\r\n\tkick: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tscene.showEffect('foot', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y - 20,\r\n\t\t\t\tz: defender.behind(15),\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 800,\r\n\t\t\t}, 'linear');\r\n\t\t},\r\n\t},\r\n\tfastattack: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 260,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 560,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 310,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 610,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect(attacker.sp, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 50,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.behind(70),\r\n\t\t\t\ttime: 350,\r\n\t\t\t}, 'accel', 'fade');\r\n\t\t\tscene.showEffect(attacker.sp, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.behind(70),\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'accel', 'fade');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.behind(70),\r\n\t\t\t\ttime: 300,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t}, 'accel');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.x,\r\n\t\t\t\tz: defender.behind(100),\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'linear');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.behind(70),\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 1,\r\n\t\t\t}, 'linear');\r\n\t\t\tattacker.anim({\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'decel');\r\n\t\t\tdefender.delay(260);\r\n\t\t\tdefender.anim({\r\n\t\t\t\tz: defender.behind(30),\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'swing');\r\n\t\t},\r\n\t},\r\n\tfastanimattack: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tattacker.anim({\r\n\t\t\t\tz: attacker.behind(-70),\r\n\t\t\t\ttime: 50,\r\n\t\t\t\topacity: 1,\r\n\t\t\t}, 'decel');\r\n\t\t\tattacker.anim({\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 150,\r\n\t\t\t}, 'accel');\r\n\t\t\tdefender.anim({\r\n\t\t\t\tz: defender.behind(30),\r\n\t\t\t\ttime: 70,\r\n\t\t\t}, 'decel');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 170,\r\n\t\t\t}, 'accel');\r\n\t\t},\r\n\t},\r\n\tfastanimspecial: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.8,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'decel');\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.8,\r\n\t\t\t\ttime: 70,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\ttime: 170,\r\n\t\t\t}, 'decel');\r\n\t\t\tdefender.anim({\r\n\t\t\t\tz: defender.behind(30),\r\n\t\t\t\ttime: 70,\r\n\t\t\t}, 'decel');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 170,\r\n\t\t\t}, 'accel');\r\n\t\t},\r\n\t},\r\n\tfastanimself: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tattacker.anim({\r\n\t\t\t\tscale: 1.5,\r\n\t\t\t\ttime: 50,\r\n\t\t\t}, 'decel');\r\n\t\t\tattacker.anim({\r\n\t\t\t\ttime: 170,\r\n\t\t\t}, 'accel');\r\n\t\t},\r\n\t},\r\n\tsneakattack: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.leftof(-20),\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.behind(-20),\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'linear');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.behind(-120),\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 1,\r\n\t\t\t}, 'linear');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.behind(40),\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 250,\r\n\t\t\t}, 'linear');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.behind(-5),\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear');\r\n\t\t\tattacker.anim({\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 1,\r\n\t\t\t}, 'linear');\r\n\t\t\tattacker.anim({\r\n\t\t\t\ttime: 300,\r\n\t\t\t\topacity: 1,\r\n\t\t\t}, 'linear');\r\n\t\t\tdefender.delay(330);\r\n\t\t\tdefender.anim({\r\n\t\t\t\tz: defender.behind(20),\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'swing');\r\n\t\t},\r\n\t},\r\n\tspinattack: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y + 60,\r\n\t\t\t\tz: defender.behind(-30),\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'ballistic2');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y + 5,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'ballistic2');\r\n\t\t\tdefender.delay(450);\r\n\t\t\tdefender.anim({\r\n\t\t\t\tz: defender.behind(20),\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'swing');\r\n\t\t\tscene.wait(500);\r\n\t\t},\r\n\t},\r\n\tbound: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y + 15,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\txscale: 2,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 0.4,\r\n\t\t\t\txscale: 1,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'decel', 'fade');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y - 5,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\txscale: 2,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 50,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 0.4,\r\n\t\t\t\txscale: 1,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t\ttime: 550,\r\n\t\t\t}, 'decel', 'fade');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y - 20,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\txscale: 2,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 0.4,\r\n\t\t\t\txscale: 1,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'decel', 'fade');\r\n\t\t\tattacker.anim({\r\n\t\t\t\ty: attacker.y + 15,\r\n\t\t\t\tz: attacker.behind(10),\r\n\t\t\t\tyscale: 1.3,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.anim({\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.delay(25);\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.leftof(-10),\r\n\t\t\t\ty: attacker.y + 15,\r\n\t\t\t\tz: attacker.behind(5),\r\n\t\t\t\tyscale: 1.3,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.anim({\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'swing');\r\n\t\t},\r\n\t},\r\n\tselfstatus: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'linear');\r\n\t\t},\r\n\t},\r\n\tlightstatus: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear');\r\n\t\t},\r\n\t},\r\n\tchargestatus: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x - 60,\r\n\t\t\t\ty: attacker.y + 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x + 60,\r\n\t\t\t\ty: attacker.y - 5,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x - 30,\r\n\t\t\t\ty: attacker.y + 60,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x + 20,\r\n\t\t\t\ty: attacker.y - 50,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x - 70,\r\n\t\t\t\ty: attacker.y - 50,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t},\r\n\t},\r\n\theal: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x + 30,\r\n\t\t\t\ty: attacker.y + 5,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.1,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x + 40,\r\n\t\t\t\ty: attacker.y + 10,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'accel');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x - 30,\r\n\t\t\t\ty: attacker.y - 10,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.1,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x - 40,\r\n\t\t\t\ty: attacker.y - 20,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, 'accel');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x + 15,\r\n\t\t\t\ty: attacker.y + 10,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.1,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x + 25,\r\n\t\t\t\ty: attacker.y + 20,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 800,\r\n\t\t\t}, 'accel');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x - 15,\r\n\t\t\t\ty: attacker.y - 30,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.1,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x - 25,\r\n\t\t\t\ty: attacker.y - 40,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 900,\r\n\t\t\t}, 'accel');\r\n\t\t},\r\n\t},\r\n\tshiny: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('#000000', 800, 0.3, 100);\r\n\t\t\tscene.showEffect('shine', {\r\n\t\t\t\tx: attacker.x + 5,\r\n\t\t\t\ty: attacker.y + 20,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.1,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 450,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y + 35,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 675,\r\n\t\t\t}, 'decel');\r\n\t\t\tscene.showEffect('shine', {\r\n\t\t\t\tx: attacker.x + 15,\r\n\t\t\t\ty: attacker.y + 20,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 475,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x + 25,\r\n\t\t\t\ty: attacker.y + 30,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, 'decel');\r\n\t\t\tscene.showEffect('shine', {\r\n\t\t\t\tx: attacker.x - 15,\r\n\t\t\t\ty: attacker.y + 20,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x - 25,\r\n\t\t\t\ty: attacker.y + 30,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 725,\r\n\t\t\t}, 'decel');\r\n\t\t\tscene.showEffect('shine', {\r\n\t\t\t\tx: attacker.x - 20,\r\n\t\t\t\ty: attacker.y + 5,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 550,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x - 30,\r\n\t\t\t\ty: attacker.y - 5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 775,\r\n\t\t\t}, 'decel');\r\n\t\t\tscene.showEffect('shine', {\r\n\t\t\t\tx: attacker.x + 15,\r\n\t\t\t\ty: attacker.y + 10,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 650,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x + 35,\r\n\t\t\t\ty: attacker.y - 5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 875,\r\n\t\t\t}, 'decel');\r\n\t\t\tscene.showEffect('shine', {\r\n\t\t\t\tx: attacker.x + 5,\r\n\t\t\t\ty: attacker.y - 5,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 675,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y - 20,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 900,\r\n\t\t\t}, 'decel');\r\n\t\t},\r\n\t},\r\n\tflight: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.leftof(-200),\r\n\t\t\t\ty: attacker.y + 80,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 350,\r\n\t\t\t}, 'accel');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.leftof(-200),\r\n\t\t\t\ty: defender.y + 80,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\ttime: 1,\r\n\t\t\t}, 'linear');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 350,\r\n\t\t\t}, 'accel');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 900,\r\n\t\t\t}, 'linear');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.leftof(100),\r\n\t\t\t\ty: defender.y - 40,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 175,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y + 40,\r\n\t\t\t\tz: attacker.behind(40),\r\n\t\t\t\ttime: 1,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\ttime: 250,\r\n\t\t\t}, 'decel');\r\n\t\t\tdefender.delay(700);\r\n\t\t\tdefender.anim({\r\n\t\t\t\tz: defender.behind(20),\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'swing');\r\n\t\t},\r\n\t},\r\n\tshake: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tattacker.anim({x: attacker.x - 10, time: 200});\r\n\t\t\tattacker.anim({x: attacker.x + 10, time: 300});\r\n\t\t\tattacker.anim({x: attacker.x, time: 200});\r\n\t\t},\r\n\t},\r\n\tdance: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tattacker.anim({x: attacker.x - 10});\r\n\t\t\tattacker.anim({x: attacker.x + 10});\r\n\t\t\tattacker.anim({x: attacker.x});\r\n\t\t},\r\n\t},\r\n\tconsume: {\r\n\t\tanim(scene, [defender]) {\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: defender.leftof(-25),\r\n\t\t\t\ty: defender.y + 40,\r\n\t\t\t\tz: defender.behind(-20),\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.leftof(-15),\r\n\t\t\t\ty: defender.y + 35,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'swing', 'fade');\r\n\r\n\t\t\tdefender.delay(400);\r\n\t\t\tdefender.anim({\r\n\t\t\t\ty: defender.y + 5,\r\n\t\t\t\tyscale: 1.1,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ty: defender.y + 5,\r\n\t\t\t\tyscale: 1.1,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'swing');\r\n\t\t},\r\n\t},\r\n\tleech: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\tx: defender.x - 30,\r\n\t\t\t\ty: defender.y - 40,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\ttime: 500,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t}, 'ballistic2', 'fade');\r\n\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\tx: defender.x + 40,\r\n\t\t\t\ty: defender.y - 35,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 50,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\ttime: 550,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\tx: defender.x + 20,\r\n\t\t\t\ty: defender.y - 25,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\ttime: 600,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t}, 'ballistic2Under', 'fade');\r\n\t\t},\r\n\t},\r\n\tdrain: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0.6,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\ttime: 500,\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 'ballistic2');\r\n\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0.6,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t\ttime: 50,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\ttime: 550,\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0.6,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\ttime: 600,\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 'ballistic2Under');\r\n\t\t},\r\n\t},\r\n\thydroshot: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tscene.showEffect('waterwisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.4,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x + 10,\r\n\t\t\t\ty: defender.y + 5,\r\n\t\t\t\tz: defender.behind(30),\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t}, 'decel', 'explode');\r\n\t\t\tscene.showEffect('waterwisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.4,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 75,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x - 10,\r\n\t\t\t\ty: defender.y - 5,\r\n\t\t\t\tz: defender.behind(30),\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t}, 'decel', 'explode');\r\n\t\t\tscene.showEffect('waterwisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.4,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 150,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y + 5,\r\n\t\t\t\tz: defender.behind(30),\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t}, 'decel', 'explode');\r\n\t\t},\r\n\t},\r\n\tsound: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tz: attacker.behind(-50),\r\n\t\t\t\tscale: 5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 150,\r\n\t\t\t}, {\r\n\t\t\t\tz: attacker.behind(-50),\r\n\t\t\t\tscale: 5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tz: attacker.behind(-50),\r\n\t\t\t\tscale: 5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 800,\r\n\t\t\t}, 'linear');\r\n\t\t},\r\n\t},\r\n\tgravity: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tattacker.anim({\r\n\t\t\t\ty: attacker.y - 20,\r\n\t\t\t\tyscale: 0.5,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'decel');\r\n\t\t\tattacker.delay(200);\r\n\t\t\tattacker.anim({\r\n\t\t\t\ttime: 300,\r\n\t\t\t});\r\n\t\t},\r\n\t},\r\n\tfuturesighthit: {\r\n\t\tanim(scene, [defender]) {\r\n\t\t\tscene.backgroundEffect('#AA44BB', 250, 0.6);\r\n\t\t\tscene.backgroundEffect('#AA44FF', 250, 0.6, 400);\r\n\t\t\tdefender.anim({\r\n\t\t\t\tscale: 1.2,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tscale: 1,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tscale: 1.4,\r\n\t\t\t\ttime: 150,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tscale: 1,\r\n\t\t\t\ttime: 150,\r\n\t\t\t});\r\n\t\t\tscene.wait(700);\r\n\t\t},\r\n\t},\r\n\tdoomdesirehit: {\r\n\t\tanim(scene, [defender]) {\r\n\t\t\tscene.backgroundEffect('#ffffff', 600, 0.6);\r\n\t\t\tscene.showEffect('fireball', {\r\n\t\t\t\tx: defender.x + 40,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 6,\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('fireball', {\r\n\t\t\t\tx: defender.x - 40,\r\n\t\t\t\ty: defender.y - 20,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t\ttime: 150,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 6,\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('fireball', {\r\n\t\t\t\tx: defender.x + 10,\r\n\t\t\t\ty: defender.y + 20,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 6,\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 'linear');\r\n\r\n\t\t\tdefender.delay(100);\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x - 30,\r\n\t\t\t\ttime: 75,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x + 30,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x - 30,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x + 30,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t},\r\n\t},\r\n\titemoff: {\r\n\t\tanim(scene, [defender]) {\r\n\t\t\tscene.showEffect('pokeball', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y + 40,\r\n\t\t\t\tz: defender.behind(70),\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'ballistic2');\r\n\t\t},\r\n\t},\r\n\tanger: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('angry', {\r\n\t\t\t\tx: attacker.x + 20,\r\n\t\t\t\ty: attacker.y + 20,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'ballistic2Under', 'fade');\r\n\t\t\tscene.showEffect('angry', {\r\n\t\t\t\tx: attacker.x - 20,\r\n\t\t\t\ty: attacker.y + 10,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'ballistic2Under', 'fade');\r\n\t\t\tscene.showEffect('angry', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y + 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'ballistic2Under', 'fade');\r\n\t\t},\r\n\t},\r\n\tbidecharge: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x + 30,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y + 60,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x - 30,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y + 60,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x + 15,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y + 60,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x - 15,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y + 60,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, 'linear', 'fade');\r\n\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x - 2.5,\r\n\t\t\t\ttime: 75,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x + 2.5,\r\n\t\t\t\ttime: 75,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x - 2.5,\r\n\t\t\t\ttime: 75,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x + 2.5,\r\n\t\t\t\ttime: 75,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x - 2.5,\r\n\t\t\t\ttime: 75,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.anim({\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'accel');\r\n\t\t},\r\n\t},\r\n\tbideunleash: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('fireball', {\r\n\t\t\t\tx: attacker.x + 40,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 6,\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('fireball', {\r\n\t\t\t\tx: attacker.x - 40,\r\n\t\t\t\ty: attacker.y - 20,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t\ttime: 150,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 6,\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('fireball', {\r\n\t\t\t\tx: attacker.x + 10,\r\n\t\t\t\ty: attacker.y + 20,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 6,\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 'linear');\r\n\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x - 30,\r\n\t\t\t\ttime: 75,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x + 30,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x - 30,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x + 30,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x - 30,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x + 30,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t},\r\n\t},\r\n\tspectralthiefboost: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tscene.backgroundEffect('linear-gradient(#000000 30%, #440044', 1400, 0.5);\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y - 30,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\txscale: 0.5,\r\n\t\t\t\tyscale: 1,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2,\r\n\t\t\t\txscale: 4,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'decel', 'fade');\r\n\t\t\tscene.showEffect('poisonwisp', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y - 25,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 1,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x + 50,\r\n\t\t\t\tscale: 3,\r\n\t\t\t\txscale: 3.5,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('poisonwisp', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y - 25,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 1,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x - 50,\r\n\t\t\t\tscale: 3,\r\n\t\t\t\txscale: 3.5,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: defender.x + 35,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\topacity: 0.4,\r\n\t\t\t\tscale: 0.25,\r\n\t\t\t\ttime: 50,\r\n\t\t\t}, {\r\n\t\t\t\ty: defender.y - 40,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'accel');\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: defender.x - 35,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\topacity: 0.4,\r\n\t\t\t\tscale: 0.25,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\ty: defender.y - 40,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 350,\r\n\t\t\t}, 'accel');\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: defender.x + 15,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\topacity: 0.4,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\ttime: 150,\r\n\t\t\t}, {\r\n\t\t\t\ty: defender.y - 40,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'accel');\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: defender.x + 15,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\topacity: 0.4,\r\n\t\t\t\tscale: 0.25,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\ty: defender.y - 40,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 450,\r\n\t\t\t}, 'accel');\r\n\r\n\t\t\tscene.showEffect('poisonwisp', {\r\n\t\t\t\tx: defender.x - 50,\r\n\t\t\t\ty: defender.y - 40,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x - 50,\r\n\t\t\t\ty: attacker.y - 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\ttime: 900,\r\n\t\t\t}, 'decel', 'fade');\r\n\t\t\tscene.showEffect('poisonwisp', {\r\n\t\t\t\tx: defender.x - 50,\r\n\t\t\t\ty: defender.y - 40,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x - 50,\r\n\t\t\t\ty: attacker.y - 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\ttime: 900,\r\n\t\t\t}, 'decel', 'fade');\r\n\t\t\tscene.showEffect('poisonwisp', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y - 40,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 450,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y - 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\ttime: 950,\r\n\t\t\t}, 'decel', 'fade');\r\n\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y - 30,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\txscale: 0.5,\r\n\t\t\t\tyscale: 1,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 750,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2,\r\n\t\t\t\txscale: 4,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t\ttime: 1200,\r\n\t\t\t}, 'decel', 'fade');\r\n\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: attacker.x + 35,\r\n\t\t\t\ty: attacker.y - 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0.4,\r\n\t\t\t\tscale: 0.25,\r\n\t\t\t\ttime: 750,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 1000,\r\n\t\t\t}, 'decel');\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: attacker.x - 35,\r\n\t\t\t\ty: attacker.y - 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\tscale: 0.25,\r\n\t\t\t\ttime: 800,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 1150,\r\n\t\t\t}, 'decel');\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: attacker.x + 15,\r\n\t\t\t\ty: attacker.y - 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\tscale: 0.25,\r\n\t\t\t\ttime: 950,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 1200,\r\n\t\t\t}, 'decel');\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: attacker.x + 15,\r\n\t\t\t\ty: attacker.y - 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\tscale: 0.25,\r\n\t\t\t\ttime: 1000,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 1350,\r\n\t\t\t}, 'decel');\r\n\r\n\t\t\tscene.showEffect('poisonwisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y - 25,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 750,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x + 75,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 1200,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('poisonwisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y - 25,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 750,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x - 75,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 1200,\r\n\t\t\t}, 'linear', 'fade');\r\n\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x - 15,\r\n\t\t\t\ttime: 75,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x + 15,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x - 15,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x + 15,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x - 15,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x + 15,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t},\r\n\t},\r\n\tschoolingin: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('#0000DD', 600, 0.2);\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 2.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 3,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'explode');\r\n\t\t\tscene.showEffect('waterwisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 3.25,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'explode');\r\n\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.leftof(200),\r\n\t\t\t\ty: attacker.y + 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'ballistic', 'fade');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.leftof(-140),\r\n\t\t\t\ty: attacker.y - 60,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'ballistic2Under', 'fade');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.leftof(-140),\r\n\t\t\t\ty: attacker.y + 50,\r\n\t\t\t\tz: attacker.behind(170),\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'ballistic2', 'fade');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y + 30,\r\n\t\t\t\tz: attacker.behind(-250),\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'ballistic', 'fade');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.leftof(240),\r\n\t\t\t\ty: attacker.y - 80,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'ballistic2Under');\r\n\t\t},\r\n\t},\r\n\tschoolingout: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('#0000DD', 600, 0.2);\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 1,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'explode');\r\n\t\t\tscene.showEffect('waterwisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 3.25,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2.5,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'explode');\r\n\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.leftof(200),\r\n\t\t\t\ty: attacker.y + 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'ballistic', 'fade');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.leftof(-140),\r\n\t\t\t\ty: attacker.y - 60,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'ballistic2Under', 'fade');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.leftof(-140),\r\n\t\t\t\ty: attacker.y + 50,\r\n\t\t\t\tz: attacker.behind(170),\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'ballistic2', 'fade');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y + 30,\r\n\t\t\t\tz: attacker.behind(-250),\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'ballistic', 'fade');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.leftof(240),\r\n\t\t\t\ty: attacker.y - 80,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'ballistic2Under');\r\n\t\t},\r\n\t},\r\n\tprimalalpha: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('#0000DD', 500, 0.4);\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 4,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('alpha', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2.5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'decel');\r\n\t\t},\r\n\t},\r\n\tprimalomega: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('linear-gradient(#390000 30%, #B84038)', 500, 0.4);\r\n\t\t\tscene.showEffect('flareball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('flareball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 4,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('omega', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2.5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'decel');\r\n\t\t},\r\n\t},\r\n\tmegaevo: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('#835BA5', 500, 0.6);\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 4,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('mistball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('rainbow', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t},\r\n\t},\r\n\tzpower: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('linear-gradient(#000000 20%, #0000DD)', 1800, 0.4);\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x - 60,\r\n\t\t\t\ty: attacker.y + 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x + 60,\r\n\t\t\t\ty: attacker.y - 5,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x - 30,\r\n\t\t\t\ty: attacker.y + 60,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x + 20,\r\n\t\t\t\ty: attacker.y - 50,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x - 70,\r\n\t\t\t\ty: attacker.y - 50,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('zsymbol', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 800,\r\n\t\t\t}, 'decel', 'explode');\r\n\t\t\tscene.showEffect(attacker.sp, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 800,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y + 20,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 1200,\r\n\t\t\t}, 'accel');\r\n\t\t\tscene.showEffect(attacker.sp, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 1000,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y + 20,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 1400,\r\n\t\t\t}, 'accel');\r\n\t\t\tscene.showEffect(attacker.sp, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 1200,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y + 20,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 1600,\r\n\t\t\t}, 'accel');\r\n\t\t},\r\n\t},\r\n\tpowerconstruct: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tlet xf = [1, -1, 1, -1];\r\n\t\t\tlet yf = [1, -1, -1, 1];\r\n\t\t\tlet xf2 = [1, 0, -1, 0];\r\n\t\t\tlet yf2 = [0, 1, 0, -1];\r\n\r\n\t\t\tscene.backgroundEffect('#000000', 1000, 0.7);\r\n\t\t\tfor (let i = 0; i < 4; i++) {\r\n\t\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\t\tx: attacker.x + 150 * xf[i],\r\n\t\t\t\t\ty: attacker.y - 50,\r\n\t\t\t\t\tz: attacker.z + 70 * yf[i],\r\n\t\t\t\t\tscale: 0.1,\r\n\t\t\t\t\txscale: 0.5,\r\n\t\t\t\t\topacity: 0.4,\r\n\t\t\t\t}, {\r\n\t\t\t\t\tx: attacker.x,\r\n\t\t\t\t\ty: attacker.y - 50,\r\n\t\t\t\t\tz: attacker.z,\r\n\t\t\t\t\tscale: 0.3,\r\n\t\t\t\t\txscale: 0.8,\r\n\t\t\t\t\topacity: 0,\r\n\t\t\t\t\ttime: 500,\r\n\t\t\t\t}, 'decel', 'fade');\r\n\t\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\t\tx: attacker.x + 200 * xf2[i],\r\n\t\t\t\t\ty: attacker.y - 50,\r\n\t\t\t\t\tz: attacker.z + 90 * yf2[i],\r\n\t\t\t\t\tscale: 0.1,\r\n\t\t\t\t\txscale: 0.5,\r\n\t\t\t\t\topacity: 0.4,\r\n\t\t\t\t}, {\r\n\t\t\t\t\tx: attacker.x,\r\n\t\t\t\t\ty: attacker.y - 50,\r\n\t\t\t\t\tz: attacker.z,\r\n\t\t\t\t\tscale: 0.3,\r\n\t\t\t\t\txscale: 0.8,\r\n\t\t\t\t\topacity: 0,\r\n\t\t\t\t\ttime: 500,\r\n\t\t\t\t}, 'decel', 'fade');\r\n\r\n\t\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\t\tx: attacker.x + 50 * xf[i],\r\n\t\t\t\t\ty: attacker.y - 50,\r\n\t\t\t\t\tz: attacker.z + 100 * yf[i],\r\n\t\t\t\t\tscale: 0.1,\r\n\t\t\t\t\txscale: 0.5,\r\n\t\t\t\t\topacity: 0.4,\r\n\t\t\t\t\ttime: 200,\r\n\t\t\t\t}, {\r\n\t\t\t\t\tx: attacker.x,\r\n\t\t\t\t\ty: attacker.y - 50,\r\n\t\t\t\t\tz: attacker.z,\r\n\t\t\t\t\tscale: 0.3,\r\n\t\t\t\t\txscale: 0.8,\r\n\t\t\t\t\topacity: 0,\r\n\t\t\t\t\ttime: 500,\r\n\t\t\t\t}, 'decel', 'fade');\r\n\t\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\t\tx: attacker.x + 100 * xf2[i],\r\n\t\t\t\t\ty: attacker.y - 50,\r\n\t\t\t\t\tz: attacker.z + 90 * yf2[i],\r\n\t\t\t\t\tscale: 0.1,\r\n\t\t\t\t\txscale: 0.5,\r\n\t\t\t\t\topacity: 0.4,\r\n\t\t\t\t\ttime: 200,\r\n\t\t\t\t}, {\r\n\t\t\t\t\tx: attacker.x,\r\n\t\t\t\t\ty: attacker.y - 50,\r\n\t\t\t\t\tz: attacker.z,\r\n\t\t\t\t\tscale: 0.3,\r\n\t\t\t\t\txscale: 0.8,\r\n\t\t\t\t\topacity: 0,\r\n\t\t\t\t\ttime: 500,\r\n\t\t\t\t}, 'decel', 'fade');\r\n\t\t\t}\r\n\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y - 25,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 50,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0.8,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y - 25,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 3.5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 150,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 1.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 350,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y - 25,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y - 25,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 3.5,\r\n\t\t\t\topacity: 0.8,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'linear', 'explode');\r\n\t\t},\r\n\t},\r\n\tultraburst: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('#000000', 600, 0.5);\r\n\t\t\tscene.backgroundEffect('#ffffff', 500, 1, 550);\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x - 60,\r\n\t\t\t\ty: attacker.y + 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 150,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x + 60,\r\n\t\t\t\ty: attacker.y - 5,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 150,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x - 30,\r\n\t\t\t\ty: attacker.y + 60,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 250,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x + 20,\r\n\t\t\t\ty: attacker.y - 50,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 250,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x - 70,\r\n\t\t\t\ty: attacker.y - 50,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear', 'fade');\r\n\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 1.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 4,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'explode');\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2.25,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'explode');\r\n\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2.25,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'explode');\r\n\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 6,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 6,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 150,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 450,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 6,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('ultra', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 900,\r\n\t\t\t}, 'decel');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y - 60,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\txscale: 0.25,\r\n\t\t\t\tyscale: 0,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2,\r\n\t\t\t\txscale: 6,\r\n\t\t\t\tyscale: 1,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 800,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y - 60,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\txscale: 0.25,\r\n\t\t\t\tyscale: 0.75,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 800,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2,\r\n\t\t\t\txscale: 6,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t\ttime: 1000,\r\n\t\t\t}, 'linear');\r\n\t\t},\r\n\t},\r\n\tswarmingin: { // swse\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('#0000DD', 600, 0.2);\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 2.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 3,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'explode');\r\n\t\t\tscene.showEffect('greenwisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 3.25,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'explode');\r\n\r\n\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\tx: attacker.leftof(200),\r\n\t\t\t\ty: attacker.y + 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'ballistic', 'fade');\r\n\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\tx: attacker.leftof(-140),\r\n\t\t\t\ty: attacker.y - 60,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'ballistic2Under', 'fade');\r\n\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\tx: attacker.leftof(-140),\r\n\t\t\t\ty: attacker.y + 50,\r\n\t\t\t\tz: attacker.behind(170),\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'ballistic2', 'fade');\r\n\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y + 30,\r\n\t\t\t\tz: attacker.behind(-250),\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'ballistic', 'fade');\r\n\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\tx: attacker.leftof(240),\r\n\t\t\t\ty: attacker.y - 80,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'ballistic2Under');\r\n\t\t},\r\n\t},\r\n\tswarmingout: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('#0000DD', 600, 0.2);\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 1,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'explode');\r\n\t\t\tscene.showEffect('greenwisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 3.25,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2.5,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'explode');\r\n\r\n\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.leftof(200),\r\n\t\t\t\ty: attacker.y + 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'ballistic', 'fade');\r\n\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.leftof(-140),\r\n\t\t\t\ty: attacker.y - 60,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'ballistic2Under', 'fade');\r\n\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.leftof(-140),\r\n\t\t\t\ty: attacker.y + 50,\r\n\t\t\t\tz: attacker.behind(170),\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'ballistic2', 'fade');\r\n\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y + 30,\r\n\t\t\t\tz: attacker.behind(-250),\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'ballistic', 'fade');\r\n\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.leftof(240),\r\n\t\t\t\ty: attacker.y - 80,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'ballistic2Under');\r\n\t\t},\r\n\t},\r\n};\r\nexport const BattleStatusAnims: AnimTable = {\r\n\tbrn: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('fireball', {\r\n\t\t\t\tx: attacker.x - 20,\r\n\t\t\t\ty: attacker.y - 15,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x + 40,\r\n\t\t\t\ty: attacker.y + 15,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'swing', 'fade');\r\n\t\t},\r\n\t},\r\n\tpsn: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('poisonwisp', {\r\n\t\t\t\tx: attacker.x + 30,\r\n\t\t\t\ty: attacker.y - 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'decel', 'fade');\r\n\t\t\tscene.showEffect('poisonwisp', {\r\n\t\t\t\tx: attacker.x - 30,\r\n\t\t\t\ty: attacker.y - 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'decel', 'fade');\r\n\t\t\tscene.showEffect('poisonwisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y - 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'decel', 'fade');\r\n\t\t},\r\n\t},\r\n\tslp: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y + 20,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y + 20,\r\n\t\t\t\tz: attacker.behind(-50),\r\n\t\t\t\tscale: 1.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'ballistic2Under', 'fade');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y + 20,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y + 20,\r\n\t\t\t\tz: attacker.behind(-50),\r\n\t\t\t\tscale: 1.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'ballistic2Under', 'fade');\r\n\t\t},\r\n\t},\r\n\tpar: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 1.5,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear', 'fade');\r\n\r\n\t\t\tattacker.delay(100);\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x - 1,\r\n\t\t\t\ttime: 75,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x + 1,\r\n\t\t\t\ttime: 75,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x - 1,\r\n\t\t\t\ttime: 75,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x + 1,\r\n\t\t\t\ttime: 75,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x - 1,\r\n\t\t\t\ttime: 75,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.anim({\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'accel');\r\n\t\t},\r\n\t},\r\n\tfrz: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('icicle', {\r\n\t\t\t\tx: attacker.x - 30,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 0.9,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('icicle', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y - 30,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 0.9,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 650,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('icicle', {\r\n\t\t\t\tx: attacker.x + 15,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 0.9,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t},\r\n\t},\r\n\tfrb: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('bluefireball', {\r\n\t\t\t\tx: attacker.x - 20,\r\n\t\t\t\ty: attacker.y - 15,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x + 40,\r\n\t\t\t\ty: attacker.y + 15,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'swing', 'fade');\r\n\t\t},\r\n\t},\r\n\tflinch: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t},\r\n\t},\r\n\tattracted: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('heart', {\r\n\t\t\t\tx: attacker.x + 20,\r\n\t\t\t\ty: attacker.y + 20,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'ballistic2Under', 'fade');\r\n\t\t\tscene.showEffect('heart', {\r\n\t\t\t\tx: attacker.x - 20,\r\n\t\t\t\ty: attacker.y + 10,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'ballistic2Under', 'fade');\r\n\t\t\tscene.showEffect('heart', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y + 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'ballistic2Under', 'fade');\r\n\t\t},\r\n\t},\r\n\tcursed: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('#000000', 700, 0.2);\r\n\t\t\tattacker.delay(300);\r\n\t\t\tattacker.anim({x: attacker.x - 5, time: 50});\r\n\t\t\tattacker.anim({x: attacker.x + 5, time: 50});\r\n\t\t\tattacker.anim({x: attacker.x - 5, time: 50});\r\n\t\t\tattacker.anim({x: attacker.x + 5, time: 50});\r\n\t\t\tattacker.anim({x: attacker.x, time: 50});\r\n\r\n\t\t\tscene.showEffect(attacker.sp, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tz: attacker.behind(20),\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'decel');\r\n\t\t},\r\n\t},\r\n\tconfused: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x + 50,\r\n\t\t\t\ty: attacker.y + 30,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x - 50,\r\n\t\t\t\tscale: 0.15,\r\n\t\t\t\topacity: 0.4,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x - 50,\r\n\t\t\t\ty: attacker.y + 30,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x + 50,\r\n\t\t\t\tscale: 0.15,\r\n\t\t\t\topacity: 0.4,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x + 50,\r\n\t\t\t\ty: attacker.y + 30,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x - 50,\r\n\t\t\t\tscale: 0.4,\r\n\t\t\t\topacity: 0.4,\r\n\t\t\t\ttime: 800,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x - 50,\r\n\t\t\t\ty: attacker.y + 30,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.15,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x + 50,\r\n\t\t\t\tscale: 0.4,\r\n\t\t\t\topacity: 0.4,\r\n\t\t\t\ttime: 800,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t},\r\n\t},\r\n\tconfusedselfhit: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'linear');\r\n\t\t\tattacker.delay(50);\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.leftof(2),\r\n\t\t\t\tz: attacker.behind(5),\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.anim({\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'swing');\r\n\t\t},\r\n\t},\r\n};\r\nBattleStatusAnims['focuspunch'] = {anim: BattleStatusAnims['flinch'].anim};\r\n"],"mappings":"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"}